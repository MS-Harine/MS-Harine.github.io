<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>소켓과 서버-클라이언트 연결</title><meta name="robots" content="follow, index"/><meta name="description" content="네트워크 프로그래밍에서의 소켓과 서버-클라이언트를 연결하기 위한 내용"/><meta property="og:url" content="https://MS-Harine.github.io/blog/network/240519%20%EC%86%8C%EC%BC%93%EA%B3%BC%20%EC%84%9C%EB%B2%84-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%20%EC%97%B0%EA%B2%B0"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Harine Blog"/><meta property="og:description" content="네트워크 프로그래밍에서의 소켓과 서버-클라이언트를 연결하기 위한 내용"/><meta property="og:title" content="소켓과 서버-클라이언트 연결"/><meta property="og:image" content="https://MS-Harine.github.io"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content=""/><meta name="twitter:title" content="소켓과 서버-클라이언트 연결"/><meta name="twitter:description" content="네트워크 프로그래밍에서의 소켓과 서버-클라이언트를 연결하기 위한 내용"/><meta name="twitter:image" content="https://MS-Harine.github.io"/><link rel="canonical" href="https://MS-Harine.github.io/blog/network/240519%20%EC%86%8C%EC%BC%93%EA%B3%BC%20%EC%84%9C%EB%B2%84-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%20%EC%97%B0%EA%B2%B0"/><meta property="article:published_time" content="2024-05-19T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://MS-Harine.github.io/blog/network/240519 소켓과 서버-클라이언트 연결"
  },
  "headline": "소켓과 서버-클라이언트 연결",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://MS-Harine.github.io"
    }
  ],
  "datePublished": "2024-05-19T00:00:00.000Z",
  "dateModified": "2024-05-19T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Minseok Song"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Minseok Song",
    "logo": {
      "@type": "ImageObject",
      "url": "https://MS-Harine.github.io/static/images/logo.png"
    }
  },
  "description": "네트워크 프로그래밍에서의 소켓과 서버-클라이언트를 연결하기 위한 내용"
}</script><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/e0d2e720fb88c963.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e0d2e720fb88c963.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-b67a97a3d8a4567e.js" defer=""></script><script src="/_next/static/chunks/main-1d0a440f578dc651.js" defer=""></script><script src="/_next/static/chunks/pages/_app-54d783c9424f6f6d.js" defer=""></script><script src="/_next/static/chunks/framework-327e104994690a53.js" defer=""></script><script src="/_next/static/chunks/545-5dbc8390c9ce3f6a.js" defer=""></script><script src="/_next/static/chunks/460-22cc927159eb6714.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-35654c954ba2d9f7.js" defer=""></script><script src="/_next/static/X1svkmAzoXyPJ4TDo0lmL/_buildManifest.js" defer=""></script><script src="/_next/static/X1svkmAzoXyPJ4TDo0lmL/_ssgManifest.js" defer=""></script><script src="/_next/static/X1svkmAzoXyPJ4TDo0lmL/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="개발/연구 블로그" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="344.564 330.278 111.737 91.218" width="53.87" height="43.61"><defs><linearGradient id="logo_svg__b" gradientUnits="userSpaceOnUse" x1="420.97" y1="331.28" x2="420.97" y2="418.5"><stop style="stop-color:#06b6d4;stop-opacity:1" offset="0%"></stop><stop style="stop-color:#67e8f9;stop-opacity:1" offset="100%"></stop></linearGradient><linearGradient id="logo_svg__d" gradientUnits="userSpaceOnUse" x1="377.89" y1="331.28" x2="377.89" y2="418.5"><stop style="stop-color:#06b6d4;stop-opacity:1" offset="0%"></stop><stop style="stop-color:#67e8f9;stop-opacity:1" offset="100%"></stop></linearGradient><path d="M453.3 331.28v28.57l-64.66 58.65v-30.08l64.66-57.14Z" id="logo_svg__a"></path><path d="M410.23 331.28v28.57l-64.67 58.65v-30.08l64.67-57.14Z" id="logo_svg__c"></path></defs><use xlink:href="#logo_svg__a" fill="url(#logo_svg__b)"></use><use xlink:href="#logo_svg__c" fill="url(#logo_svg__d)"></use></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">개발/연구 블로그</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-24 right-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed h-full w-full cursor-auto focus:outline-none"></button><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2024-05-19T00:00:00.000Z">2024년 5월 19일 일요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">소켓과 서버-클라이언트 연결</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="/static/images/avatar.jpg" width="38px" height="38px" alt="avatar" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Minseok Song</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h1 id="1-소켓이란"><a href="#1-소켓이란" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>1. 소켓이란?</h1><p>소켓 프로그래밍은 대표적으로 Linux와 Windows 두 운영체제에서 다르게 나타나는데, 각 운영체제별 설명은 아래와 같다.</p><ul><li>Linux Programmer&#x27;s Manual : <code>socket() create an endpoint for communication and returns a file descripteor that refers to that endpoint.</code></li><li>Microsoft Learn : <code>The socket function causes a socket descriptor and any related resources to be allocated and bound to a specific transport-service provider.</code></li></ul><p>각각의 설명을 보면, 결국 소켓이라는 것은 커뮤니케이션을 위한 descriptor라는 것을 알 수 있다. 리눅스에서는 이를 File로써 관리하며, 윈도우에서는 따로 Socket descriptor라는 것으로 구분하고 있다는 것을 확인할 수 있다.</p><p>소켓을 생성하기 위해서는 <code>socket()</code> 함수를 사용하는데, 각 운영체제별로 해당 함수를 사용하기 위한 준비가 다르다.</p><blockquote><p>Linux</p><div class="relative"><pre><code class="code-highlight language-C"><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
</span></code></pre></div></blockquote><blockquote><p>Windows</p><div class="relative"><pre><code class="code-highlight language-C"><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line">WSADATA wsaData<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></blockquote><p>리눅스의 경우에는 소켓과 관련된 정보가 포함되어 있는 헤더 파일을 추가하면 되고, 윈도우의 경우에는 소켓과 관련된 동적 라이브러리(DLL)를 불러오기 위한 코드가 필요하다. 특히, 윈도우는 네트워크와 관련된 작업이 마쳐지면 <code>WSACleanup()</code> 함수를 통해 할당 해제를 해주어야 한다. 위의 사전작업을 마치면 아래 정의되어 있는 <code>socket()</code> 함수를 사용할 수 있다.</p><ul><li>Linux : <code>int socket(int domain, int type, int protocol)</code></li><li>Windows : <code>SOCKET socket(int af, int type, int protocol)</code></li></ul><p>또한, 작업을 마치면 소켓을 닫아주어야 하는데, Linux는 <code>close()</code>로, Windows는 <code>closesocket()</code>으로 소켓을 닫을 수 있다.</p><p>두 운영체제 모두 소켓을 생성하기 위해 세 가지 파라미터를 받는다. 각 파라미터에 대한 설명과 사용 가능한 옵션은 아래와 같다. 각 옵션별 전제 내용 목록은 상세 페이지(<a target="_blank" rel="noopener noreferrer" href="https://man7.org/linux/man-pages/man2/socket.2.html">Linux</a> / <a target="_blank" rel="noopener noreferrer" href="https://learn.microsoft.com/ko-kr/windows/win32/api/winsock2/nf-winsock2-socket">Windows</a>)에서 확인할 수 있다.</p><h3 id="1-domain--af-address-family"><a href="#1-domain--af-address-family" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>1. Domain / AF (Address Family)</h3><p><code>socket()</code>의 첫번째 인자는 어떤 네트워크에서 사용되는 소켓인지를 지정하는 역할을 한다. 각 운영체제별 대표적인 옵션은 아래 표와 같다.</p><table><thead><tr><th align="none">Linux Name</th><th align="none">Windows Name</th><th align="none">Purpose</th></tr></thead><tbody><tr><td align="none">AF_INET</td><td align="none">AF_INET</td><td align="none">IPv4 통신</td></tr><tr><td align="none">AF_INET6</td><td align="none">AF_INET6</td><td align="none">IPv6 통신</td></tr><tr><td align="none">AF_BLUETOOTH</td><td align="none">AF_BTH</td><td align="none">Blutooth 통신</td></tr></tbody></table><p>IPv4와 IPv6는 인터넷 통신을 말하며, v4는 32bit로 이루어진 주소체계를 말하고, v6는 128bit로 이루어진 주소 체계를 말한다. 대중적으로는 IPv4를 사용한다.</p><h3 id="2-type"><a href="#2-type" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2. Type</h3><p><code>socket()</code>의 두번째 인자는 소켓의 타입을 지정하는 역할을 한다. 대표적인 옵션은 아래와 같다.</p><table><thead><tr><th align="none">Name</th><th align="none">Defination</th></tr></thead><tbody><tr><td align="none">SOCK_STREAM</td><td align="none">Sequenced, reliable, two-way, connection-based byte stream</td></tr><tr><td align="none">SOCK_DGRAM</td><td align="none">Connectionless, unreliable</td></tr><tr><td align="none">SOCK_RAW</td><td align="none">Raw socket</td></tr></tbody></table><p>SOCK_STREAM은 양방향 연결으로 패킷의 순서와 도착 여부를 보장하며, SOCK_DGRAM은 아무것도 보장하지 않는 연결을 만든다.</p><p>SOCK_RAW는 통신에 사용되는 헤더를 직접 수정할 수 있으며, 사용되는 프로토콜을 직접 지정해 주어야 한다. 다만, 패킷의 헤더와 같은 정보는 커널 영역에서 다뤄지기 때문에 관리자(또는 root) 권한을 가진 유저만 해당 소켓을 생성할 수 있다.</p><h3 id="3-protocol"><a href="#3-protocol" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3. Protocol</h3><p><code>socket()</code>의 세번째 인자는 소켓의 프로토콜을 지정하는 역할을 한다. 대표적인 옵션은 아래와 같다.</p><table><thead><tr><th align="none">Number</th><th align="none">Name</th></tr></thead><tbody><tr><td align="none">1</td><td align="none">ICMP</td></tr><tr><td align="none">6</td><td align="none">TCP</td></tr><tr><td align="none">17</td><td align="none">UDP</td></tr></tbody></table><p>세번째 인자인 <em>protocol</em> 은 int 형식으로 정의되며, 각 프로토콜별로 숫자와 이름이 지정되어 있다. 각 프로토콜 번호와 이름은 <a target="_blank" rel="noopener noreferrer" href="https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">해당 링크</a>에서 확인할 수 있으며, 코드에서는 <code>IPROTO_&lt;NAME&gt;</code> 형식으로 사용할 수 있다.</p><p>다만, 주로 Domain/AF와 Type을 지정하게 되면 해당하는 프로토콜은 유일한 경우가 많으며, 이런 상황에서는 <code>0</code>을 전달함으로써 자동으로 적절한 프로토콜을 찾아 적용한다. 예시로, IPv4에서 TCP 연결을 사용하고 싶다면 아래와 같이 사용할 수 있다.</p><ul><li><code>socket(AF_INET, SOCK_STREAM, 0)</code></li><li><code>socket(AF_INET, SOCK_STREAM, IPROTO_TCP)</code></li></ul><p>다만, ICMP와 같이 특정한 프로토콜을 사용하고 싶거나 패킷의 헤더를 직접 수정하고 싶을 때는 SOCK_RAW를 아래와 같이 사용할 수 있다.</p><ul><li><code>socket(AF_INET, SOCK_RAW, IPROTO_TCP)</code></li><li><code>socket(AF_INET, SOCK_RAW, IPROTO_ICMP)</code></li></ul><h3 id="appendix-소켓-생성-실패시"><a href="#appendix-소켓-생성-실패시" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Appendix. 소켓 생성 실패시</h3><p>소켓을 생성하는 데 실패한 경우는 각 OS별로 대처법이 다르다.</p><h4 id="linux"><a href="#linux" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Linux</h4><p>리눅스의 경우에는 소켓을 생성하는 데 실패하면 -1을 리턴하며, 자세한 실패 이유는 <code>errno</code>를 통해 확인할 수 있다. <code>errno</code>는 리눅스에서 System Call을 했을 때 실패한 경우 이유를 알려주기 위해 사용하는 변수이며, <code>errno.h</code>에 정의되어 있다. <code>errno</code>는 단순한 int값인데, 이에 대한 설명을 포함하는 error message는 <code>strerror()</code> 함수를 통해 확인하거나, <code>perror()</code> 함수를 통해 확인할 수 있다. 에러를 확인하는 예시 코드는 아래와 같다.</p><div class="relative"><pre><code class="code-highlight language-C"><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;errno.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">int</span> sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>sock <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;socket(): %s\n&quot;</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>errno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">&quot;socket()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">close</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>fprintf와 perror 모두 <code>socket(): ~~~</code>의 형태로 메세지를 출력한다.</p><h4 id="windows"><a href="#windows" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Windows</h4><p>윈도우의 경우에는 소켓을 생성하는 데 실패하면 <code>INVALID_SOCKET</code>을 반환하며, 자세한 실패 이유는 <code>WSAGetLastError()</code>를 사용하여 확인할 수 있다. 리눅스와 마찬가지로 int 형식으로 이루어져 있으며, 메세지를 확인하기 위해서는 <code>FormatMessage()</code>를 이용할 수 있다. 에러를 확인하는 예시 코드는 아래와 같다.</p><div class="relative"><pre><code class="code-highlight language-C"><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;Windows.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">void</span> <span class="token function">print_error_message</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> prefix<span class="token punctuation">,</span> <span class="token keyword">int</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    LPTSTR error_string<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">FormatMessage</span><span class="token punctuation">(</span>FORMAT_MESSAGE_ALLOCATE_BUFFER <span class="token operator">|</span> FORMAT_MESSAGE_FROM_SYSTEM<span class="token punctuation">,</span>
</span><span class="code-line">                      <span class="token constant">NULL</span><span class="token punctuation">,</span> error<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LPTSTR<span class="token punctuation">)</span><span class="token operator">&amp;</span>error_string<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;%s: %s\n&quot;</span><span class="token punctuation">,</span> prefix<span class="token punctuation">,</span> error_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token function">LocalFree</span><span class="token punctuation">(</span>error_string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token keyword">else</span>
</span><span class="code-line">        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;%s failed with error number: %d\n&quot;</span><span class="token punctuation">,</span> prefix<span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    WSADATA wsaData<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;WSAStartup failed: %d\n&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKET sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>sock <span class="token operator">==</span> INVALID_SOCKET<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function">print_error_message</span><span class="token punctuation">(</span><span class="token string">&quot;socket()&quot;</span><span class="token punctuation">,</span> <span class="token function">WSAGetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">closesocket</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><hr/><h1 id="2-서버"><a href="#2-서버" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2. 서버</h1><p>생성된 소켓은 서버로 열어 사용할 수 있고, 반대로 클라이언트로써 서버에 연결하여 사용할 수 있다. 아래에서는 서버로 사용하는 방법에 대해 기술한다.</p><h2 id="2-1-bind"><a href="#2-1-bind" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2-1. Bind</h2><p><code>socket()</code> 함수로 소켓을 생성하면, 해당 소켓은 소통 체계는 가지고 있으나 주소를 가지고 있지 않다. 생성된 소켓에 주소를 할당해 주는 과정이 바인드(bind) 과정이며, <code>bind()</code> 함수를 통해 진행된다. 해당 함수는 아래와 같은 원형을 가지고 있다.</p><ul><li>Linux: <code>int bind(int sockfd, const struct sockaddr *addr, socklen_t addrlen)</code></li><li>Windows: <code>int bind(SOCKET s, const sockaddr *name, int namelen)</code></li></ul><p>두 운영체제 모두 첫 인자로는 생성한 소켓의 descriptor를 받고, 두번째 인자로는 주소의 정보를 받으며, 세번째 인자로는 두번째 인자로 보낸 주소 정보의 길이를 받는다.</p><p>바인드 과정에서 제일 중요한 것은 주소 정보인데, 이 정보는 <code>sockaddr</code> 이라는 구조체에 담겨 전달된다. 해당 구조체는 아래와 같이 구성되어 있다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token class-name">sa_family_t</span> sa_family<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">char</span>        sa_data<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token punctuation">{</span>
</span><span class="code-line">    ushort  sa_family<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">char</span>    sa_data<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span> SOCKADDR<span class="token punctuation">;</span>
</span></code></pre></div><p><code>sa_family_t</code>와 <code>ushort</code>는 모두 <code>unsigned short</code>이며, 2바이트의 값이다. 즉, <code>sockaddr</code>은 16바이트의 데이터로 구성되어 있으며, <code>sa_family</code>는 소켓의 주소체계를 나타내고 <code>sa_data</code>는 해당 주소체계에서 사용하는 주소 정보를 나타낸다.</p><details><summary>sockaddr 관련 심화 내용</summary><p>위 구조체의 구조를 보면 <code>sa_data</code>는 모든 통신 체계의 주소 정보를 담을 수 있을만큼 큰 사이즈를 가져야 하지만, 실제로는 IPv6의 주소 정보도 모두 담지 못한다. glibc(GNU C Library)의 <a target="_blank" rel="noopener noreferrer" href="https://www.gnu.org/software/libc/manual/html_node/Address-Formats.html">설명</a>을 보면 아래와 같이 작성되어 있다.</p><blockquote><p>This is the actual socket address data, which is format-dependent. Its length also depends on the format, and may well be more than 14. The length 14 of sa_data is essentially arbitrary.</p></blockquote><p>즉, 14바이트라는 크기는 임의로 설정된 것이며 주소 체계에 따라 크기가 얼마든지 변할 수 있다는 것이다. 따라서 <code>bind()</code> 함수에서는 따로 <code>socklen_t addrlen</code> 또는 <code>int namelen</code>을 통해 실제 데이터의 길이를 따로 받고 있는 것을 볼 수 있다.</p><p>예를 들어, IPv6의 경우에는 <code>sockaddr_in6</code>라는 구조체를 사용하며, 아래와 같이 구성되어 있다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token keyword">struct</span> <span class="token class-name">sockaddr_in6</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token class-name">sa_family_t</span>     sin6_family<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token class-name">in_port_t</span>       sin6_port<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token class-name">uint32_t</span>        sin6_flowinfo<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">struct</span> <span class="token class-name">in6_addr</span> sin6_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token class-name">uint32_t</span>        sin6_scope_id<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">struct</span> <span class="token class-name">in6_addr</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">unsigned</span> <span class="token keyword">char</span>   s6_addr<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in6</span> <span class="token punctuation">{</span>
</span><span class="code-line">    ADDRESS_FAMILY  sin6_family<span class="token punctuation">;</span>
</span><span class="code-line">    USHORT          sin6_port<span class="token punctuation">;</span>
</span><span class="code-line">    ULONG           sin6_flowinfo<span class="token punctuation">;</span>
</span><span class="code-line">    IN6_ADDR        sin6_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">union</span> <span class="token punctuation">{</span>
</span><span class="code-line">        ULONG       sin6_scope_id<span class="token punctuation">;</span>
</span><span class="code-line">        SCOPE_ID    sin6_scope_struct<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span> SOCKADDR_IN6<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">in6_addr</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">union</span> <span class="token punctuation">{</span>
</span><span class="code-line">        UCHAR   Byte<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">        USHORT  Word<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> u<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span> IN6_ADDR<span class="token punctuation">;</span>
</span></code></pre></div><p>위 코드에서 볼 수 있듯, IPv6를 위한 주소 정보는 28바이트로 이루어져 있으며, <code>sockaddr</code>의 사이즈인 16바이트보다 큰 것을 볼 수 있다.</p></details><p>대표적으로 사용하는 IPv4 통신의 경우 주소 정보에는 IP와 Port 번호가 필요하다. 그러나 IP 값과 Port 값을 바이트 단위로 직접 넣는 것은 매우 어렵고 Human Error의 가능성이 높으므로, 주로 <code>sockaddr_in</code>이라는 사이즈가 같은 구조체를 사용하여 데이터를 넣은 후에 <code>sockaddr</code>로 변환하여 사용한다. <code>sockaddr_in</code> 구조체는 아래와 같이 구성되어 있다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token class-name">sin_family_t</span>    sin_family<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token class-name">uint16_t</span>        sin_port<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">struct</span> <span class="token class-name">in_addr</span>  sin_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">char</span>            sin_zero<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">struct</span> <span class="token class-name">in_addr</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token class-name">in_addr_t</span>   s_addr<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">short</span>           sin_family<span class="token punctuation">;</span>
</span><span class="code-line">    u_short         sin_port<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">struct</span> <span class="token class-name">in_addr</span>  sin_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">char</span>            sin_zero<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span> SOCKADDR_IN<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">struct</span> <span class="token class-name">in_addr</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">union</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line">            u_char  s_b1<span class="token punctuation">;</span>
</span><span class="code-line">            u_char  s_b2<span class="token punctuation">;</span>
</span><span class="code-line">            u_char  s_b3<span class="token punctuation">;</span>
</span><span class="code-line">            u_char  s_b4<span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span> S_un_b<span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line">            u_short s_w1<span class="token punctuation">;</span>
</span><span class="code-line">            u_short s_w2<span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span> S_un_w<span class="token punctuation">;</span>
</span><span class="code-line">        u_long  S_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> S_un<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div><p>위 코드를 통해 <code>sockaddr_in</code> 구조체는 <code>sin_family</code> 2바이트, <code>sin_port</code> 2바이트, <code>sin_addr</code> 4바이트, <code>sin_zero</code> 8바이트로 구성되어 있음을 알 수 있다. 각각의 역할은 아래와 같다.</p><ul><li><code>sin_family</code> : 통신 주소 체계를 저장한다. 주로 <code>AF_INET</code> 또는 <code>AF_INET6</code> 등을 사용</li><li><code>sin_port</code> : 통신 포트를 <strong>빅 엔디안</strong> 방식으로 저장한다.</li><li><code>sin_addr</code> : IP 주소를 <strong>빅 엔디안</strong> 방식으로 저장한다.</li><li><code>sin_zero</code> : Zero Padding(남은 부분을 0으로 채우는 것)을 위한 부분.</li></ul><p>여기서 중요한 것은 <strong>빅 엔디안</strong>으로 저장한다는 부분인데, 주로 CPU에서는 <strong>리틀 엔디안</strong> 방식으로 데이터를 저장하기 때문에 이를 변환하는 과정이 필요하다. 이는 <code>htons()</code> 함수를 통해 변환할 수 있다. <code>htons</code>는 Host to Network Short의 줄인말로, 각 자료형별로 함수가 존재하며, 빅 엔디안에서 리틀 엔디안으로 변환하는 <code>ntohs</code>도 존재한다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;arpa/inet.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">uint32_t</span> <span class="token function">htonl</span><span class="token punctuation">(</span><span class="token class-name">uint32_t</span> hostlong<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token class-name">uint16_t</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token class-name">uint16_t</span> hostshort<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token class-name">uint32_t</span> <span class="token function">ntohl</span><span class="token punctuation">(</span><span class="token class-name">uint32_t</span> netlong<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token class-name">uint16_t</span> <span class="token function">ntohs</span><span class="token punctuation">(</span><span class="token class-name">uint16_t</span> netshort<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line">u_long <span class="token function">htonl</span><span class="token punctuation">(</span>u_long hostlong<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">u_short <span class="token function">htonl</span><span class="token punctuation">(</span>u_short hostshort<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">u_long <span class="token function">ntohl</span><span class="token punctuation">(</span>u_long netlong<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">u_short <span class="token function">ntohs</span><span class="token punctuation">(</span>u_short netshort<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p><code>htons</code>를 통해 포트 정보를 저장할 수 있다면, IP 주소는 <code>inet_addr</code>을 이용하여 저장할 수 있다. 주로 IP 정보는 String 형태로 들어오기 때문에, 문자열을 정수로 변환하고, 이를 빅엔디안으로 변환하여 <code>in_addr_t</code> 또는 <code>u_long</code> 형식으로 변환하는 함수가 <code>inet_addr</code>이다. 반대로 <code>in_addr</code> 또는 <code>u_long</code> 형식을 넣어 문자열 형태로 변환해 주는 함수는 <code>inet_ntoa</code>가 있다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;netinet/in.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;arpa/inet.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">in_addr_t</span> <span class="token function">inet_addr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>cp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">inet_ntoa</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">in_addr</span> in<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token function">inet_addr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>cp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">inet_ntoa</span><span class="token punctuation">(</span>in_addr in<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>최종적으로 위 과정을 통해 <code>sockaddr_in</code> 구조체를 만들 수 있고, 이를 통해 <code>sockaddr</code> 구조체로 변경하여 <code>bind()</code> 함수를 통해 소켓에 주소 정보를 반영할 수 있다. 아래 예제를 통해 해당 과정을 볼 수 있다. 아래 코드를 통해 소켓에 주소를 바인드 하는 과정을 볼 수 있다. (편의를 위해 Error Checking은 생략한다.)</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;arpa/inet.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;netinet/in.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">int</span> port <span class="token operator">=</span> <span class="token number">9100</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">int</span> sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Initialize zero for sin_zero</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>s_addr <span class="token operator">=</span> <span class="token function">htonl</span><span class="token punctuation">(</span>INADDR_ANY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token comment">// serv_addr.sin_addr.s_addr = inet_addr(&quot;0.0.0.0&quot;);</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">bind</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">close</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    WSADATA wsaData<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">int</span> port <span class="token operator">=</span> <span class="token number">9100</span><span class="token punctuation">;</span>
</span><span class="code-line">    SOCKET sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKADDR_IN serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Initialize zero for sin_zero</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>S_un<span class="token punctuation">.</span>S_addr <span class="token operator">=</span> <span class="token function">htonl</span><span class="token punctuation">(</span>INADDR_ANY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token comment">// serv_addr.sin_addr.S_un.S_addr = inet_addr(&quot;0.0.0.0&quot;);</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">bind</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span>SOCKADDR <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">closesocket</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSACleaup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>IP 정보를 넣는 데 사용한 <code>INADDR_ANY</code>는 <code>0x00000000</code>으로 선언되어 있으며, <code>0.0.0.0</code> 주소를 가리킨다. IPv4 체계에서 <code>0.0.0.0</code>은 자기 자신의 모든 네트워크 인터페이스를 나타내므로, 자기 자신의 IP라고 해석할 수 있다.</p><h3 id="appendix-bind-실패시"><a href="#appendix-bind-실패시" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Appendix. Bind 실패시</h3><p>Bind를 실패한 경우 Linux는 <code>-1</code>을 리턴하며, Windows는 <code>SOCKET_ERROR</code>를 리턴한다. Socket 생성 실패의 경우와 마찬가지로 <code>errno</code> 또는 <code>WSAGetLastError()</code>를 통해 상세한 실패 이유를 알 수 있다.</p><h2 id="2-2-listen-connection-based-socket-only"><a href="#2-2-listen-connection-based-socket-only" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2-2. Listen (Connection-based socket only)</h2><p>소켓을 생성하고 주소를 할당 받았다면, 클라이언트의 접속 요청을 받을 준비를 해야한다. <code>listen()</code> 함수는 전달받은 소켓을 <strong>연결 요청을 대기하는 상태</strong>로 변경한다. 단, 이는 &quot;연결 요청&quot;이므로, <strong>소켓의 타입이 <code>SOCK_STREAM</code> 또는 <code>SOCK_SEQPACKET</code>으로 선언된 경우에만 사용이 가능</strong>하다. 함수의 원형은 아래와 같다.</p><ul><li>Linux : <code>int listen(int sockfd, int backlog)</code></li><li>Windows : <code>int listen(SOCKET s, int backlog)</code></li></ul><p>모두 소켓 descriptor를 입력받으며, backlog라는 값을 인자로 받는다. 이 때 사용되는 소켓은 <code>bind()</code>를 통해 주소를 할당받은 상태여야 한다.</p><p><code>backlog</code>란 연결 요청을 대기하기 위한 Queue의 최대 길이를 지정해주기 위한 값이다. 서버는 <code>listen()</code> 함수를 호출한 순간부터 클라이언트의 연결 요청(<code>connect()</code>)을 받을 수 있는데, 이 때 수많은 클라이언트의 연결 요청이 들어오게 되면 각각의 연결 요청을 Queue에 저장한다. 이후 서버에서 <code>accept()</code> 함수 호출을 통해 클라이언트와 연결을 하게 되는데, 이 때 Queue에서 가장 앞에 있는 연결 요청을 꺼내 연결을 수행한다.</p><p>즉, <code>backlog</code>란 서버에서 클라이언트의 연결 요청을 담아두는 Queue의 최대 사이즈를 나타낸다. 만약 Queue가 가득 차있는 상태에서 클라이언트가 연결 요청을 보내게 되면 클라이언트는 에러가 발생하게 되며, 해당 연결 요청은 무시된다. <code>listen()</code>을 실패한 경우는 <code>bind()</code>를 실패한 경우와 동일하게 처리할 수 있다.</p><p>아래 예시를 통해 <code>listen()</code> 함수를 확인할 수 있다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;arpa/inet.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;netinet/in.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>s_addr <span class="token operator">=</span> <span class="token function">htonl</span><span class="token punctuation">(</span>INADDR_ANY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    
</span><span class="code-line">    <span class="token keyword">int</span> sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">bind</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_sock<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_sock<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">listen</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">close</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    WSADATA wsaData<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKADDR_IN serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Initialize zero for sin_zero</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>S_un<span class="token punctuation">.</span>S_addr <span class="token operator">=</span> <span class="token function">htonl</span><span class="token punctuation">(</span>INADDR_ANY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token comment">// serv_addr.sin_addr.S_un.S_addr = inet_addr(&quot;0.0.0.0&quot;);</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKET sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">bind</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span>SOCKADDR <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">listen</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">closesocket</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h2 id="2-3-accept-connection-based-socket-only"><a href="#2-3-accept-connection-based-socket-only" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2-3. Accept (Connection-based socket only)</h2><p><code>accept()</code> 함수는 listening 상태인 socket의 queue에 있는 연결 요청을 하나 꺼내어 연결 요청을 수락한다. 연결 요청을 수락할 때는 <strong>새로운 소켓을 만들어</strong> 해당 소켓과 클라이언트를 연결하고, 그 소켓의 descriptor를 반환한다. 만약 queue가 비어있다면, 연결 요청이 올 때 까지 프로그램이 대기하고 있고, 이를 Blocking 되었다고 표현한다. 함수의 원형은 아래와 같다.</p><ul><li>Linux : <code>int accpet(int sockfd, struct sockaddr *addr, socklen_t *addrlen)</code></li><li>Windows : <code>SOCKET accpet(SOCKET s, sockaddr *addr, int *addrlen)</code></li></ul><ol><li>첫 번째 인자는 listening 상태의 socket descriptor이다.</li><li>두 번째 인자는 connect된 클라이언트의 주소 정보를 담기 위한 sockaddr 구조체의 주소값이다.</li><li>세 번째 인자는 두 번째 인자로 전달된 addr의 사이즈를 담고있는 값의 주소값을 넣어주어야 하며, 함수가 리턴된 이후에는 실제 addr의 길이로 변환된다.</li></ol><p><code>accept()</code>가 반환된 이후에는 실제 client와 연결된 socket descriptor가 반환되기 때문에 클라이언트와 해당 소켓을 통해 정보를 주고받을 수 있다. <code>accept()</code>가 실패한 경우에는 <code>bind()</code>가 실패한 경우와 동일하게 처리할 수 있다. 아래 예시를 통해 <code>accept()</code> 함수를 확인할 수 있다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;arpa/inet.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;netinet/in.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>s_addr <span class="token operator">=</span> <span class="token function">htonl</span><span class="token punctuation">(</span>INADDR_ANY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    
</span><span class="code-line">    <span class="token keyword">int</span> sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">bind</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_sock<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_sock<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">listen</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> client_addr<span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">int</span> client_addr_size <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>client_addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">int</span> client_sock <span class="token operator">=</span> <span class="token function">accept</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>client_addr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>client_addr_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token comment">// Work with client_sock</span>
</span><span class="code-line">        <span class="token function">close</span><span class="token punctuation">(</span>client_sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">close</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    WSADATA wsaData<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKADDR_IN serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Initialize zero for sin_zero</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>S_un<span class="token punctuation">.</span>S_addr <span class="token operator">=</span> <span class="token function">htonl</span><span class="token punctuation">(</span>INADDR_ANY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token comment">// serv_addr.sin_addr.S_un.S_addr = inet_addr(&quot;0.0.0.0&quot;);</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKET sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">bind</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span>SOCKADDR <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">listen</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        SOCKADDR_IN client_addr<span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">int</span> client_addr_size <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>client_addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        SOCKET client_sock <span class="token operator">=</span> <span class="token function">accept</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span>SOCKADDR <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>client_addr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>client_addr_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token comment">// Work with client_sock</span>
</span><span class="code-line">        <span class="token function">closesocket</span><span class="token punctuation">(</span>client_sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">closesocket</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h1 id="3-클라이언트"><a href="#3-클라이언트" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3. 클라이언트</h1><p>클라이언트가 서버에 접속하기 위해서는 서버와 마찬가지로 소켓을 생성해야 한다. 이후 Connection-based 통신을 하기 위해서는 <code>connect()</code> 과정을 거쳐야 한다.</p><h2 id="3-1-connect-connection-based-socket-only"><a href="#3-1-connect-connection-based-socket-only" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3-1. Connect (Connection-based socket only)</h2><p><code>connect()</code> 함수는 아래와 같이 구성되어 있다.</p><ul><li>Linux : <code>int connect(int sockfd, const struct sockaddr *addr, socklen_t addrlen)</code></li><li>Windows : <code>int connect(SOCKET s, const sockaddr *name, int namelen)</code></li></ul><p><code>bind()</code> 함수와 마찬가지로 연결하고자 하는 socket descriptor와 주소 정보인 <code>sockaddr</code> 구조체, 그리고 구조체의 사이즈를 받는다. 에러가 발생할 경우에도 <code>bind()</code>의 에러 처리와 동일하게 처리한다. 아래 예시를 통해 클라이언트의 연결 과정을 살펴볼 수 있다.</p><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Linux</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;arpa/inet.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;netinet/in.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>s_addr <span class="token operator">=</span> <span class="token function">inet_addr</span><span class="token punctuation">(</span><span class="token string">&quot;192.168.0.2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    
</span><span class="code-line">    <span class="token keyword">int</span> sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">&quot;connect() error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Work with server</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">close</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><div class="relative"><pre><code class="language-c code-highlight"><span class="code-line"><span class="token comment">// Windows</span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;WinSock2.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;string.h&gt;</span></span>
</span><span class="code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    WSADATA wsaData<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKADDR_IN serv_addr<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Initialize zero for sin_zero</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    serv_addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>S_un<span class="token punctuation">.</span>S_addr <span class="token operator">=</span> <span class="token function">inet_addr</span><span class="token punctuation">(</span><span class="token string">&quot;192.168.0.2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    SOCKET sock <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span> <span class="token punctuation">(</span>SOCKADDR <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>serv_addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>serv_addr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> INVALID_SOCKET<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;connect() error: %d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">WSAGetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Work with server</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">closesocket</span><span class="token punctuation">(</span>sock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="nofollow" href="https://mobile.twitter.com/search?q=https%3A%2F%2FMS-Harine.github.io%2Fblog%2Fnetwork%2F240519%20%EC%86%8C%EC%BC%93%EA%B3%BC%20%EC%84%9C%EB%B2%84-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%20%EC%97%B0%EA%B2%B0">Discuss on Twitter</a> • <a target="_blank" rel="noopener noreferrer" href="https://github.com/MS-Harine/MS-Harine.github.io/blob/master/data/blog/network/240519 소켓과 서버-클라이언트 연결.mdx">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/network">network</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/socket">socket</a></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/MS-Harine"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Minseok Song</div><div> • </div><div>© 2024</div><div> • </div><a href="/">Harine Blog</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var r=Object.create;var l=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var i=a=\u003el(a,\"__esModule\",{value:!0});var u=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{i(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let e of p(s))!m.call(a,e)\u0026\u0026e!==\"default\"\u0026\u0026l(a,e,{get:()=\u003es[e],enumerable:!(c=d(s,e))||c.enumerable});return a},_=a=\u003ek(i(l(a!=null?r(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=u((b,t)=\u003e{t.exports=_jsx_runtime});var w={};N(w,{default:()=\u003ef,frontmatter:()=\u003ey});var n=_(o()),y={title:\"\\uC18C\\uCF13\\uACFC \\uC11C\\uBC84-\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uC5F0\\uACB0\",date:\"2024-05-19\",tags:[\"network\",\"socket\"],draft:!1,summary:\"\\uB124\\uD2B8\\uC6CC\\uD06C \\uD504\\uB85C\\uADF8\\uB798\\uBC0D\\uC5D0\\uC11C\\uC758 \\uC18C\\uCF13\\uACFC \\uC11C\\uBC84-\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB97C \\uC5F0\\uACB0\\uD558\\uAE30 \\uC704\\uD55C \\uB0B4\\uC6A9\"};function g(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\",ul:\"ul\",li:\"li\",code:\"code\",blockquote:\"blockquote\",pre:\"pre\",h3:\"h3\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",em:\"em\",h4:\"h4\",hr:\"hr\",h2:\"h2\",strong:\"strong\",ol:\"ol\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{id:\"1-\\uC18C\\uCF13\\uC774\\uB780\",children:[(0,n.jsx)(e.a,{href:\"#1-\\uC18C\\uCF13\\uC774\\uB780\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"1. \\uC18C\\uCF13\\uC774\\uB780?\"]}),(0,n.jsx)(e.p,{children:\"\\uC18C\\uCF13 \\uD504\\uB85C\\uADF8\\uB798\\uBC0D\\uC740 \\uB300\\uD45C\\uC801\\uC73C\\uB85C Linux\\uC640 Windows \\uB450 \\uC6B4\\uC601\\uCCB4\\uC81C\\uC5D0\\uC11C \\uB2E4\\uB974\\uAC8C \\uB098\\uD0C0\\uB098\\uB294\\uB370, \\uAC01 \\uC6B4\\uC601\\uCCB4\\uC81C\\uBCC4 \\uC124\\uBA85\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"Linux Programmer's Manual : \",(0,n.jsx)(e.code,{children:\"socket() create an endpoint for communication and returns a file descripteor that refers to that endpoint.\"})]}),(0,n.jsxs)(e.li,{children:[\"Microsoft Learn : \",(0,n.jsx)(e.code,{children:\"The socket function causes a socket descriptor and any related resources to be allocated and bound to a specific transport-service provider.\"})]})]}),(0,n.jsx)(e.p,{children:\"\\uAC01\\uAC01\\uC758 \\uC124\\uBA85\\uC744 \\uBCF4\\uBA74, \\uACB0\\uAD6D \\uC18C\\uCF13\\uC774\\uB77C\\uB294 \\uAC83\\uC740 \\uCEE4\\uBBA4\\uB2C8\\uCF00\\uC774\\uC158\\uC744 \\uC704\\uD55C descriptor\\uB77C\\uB294 \\uAC83\\uC744 \\uC54C \\uC218 \\uC788\\uB2E4. \\uB9AC\\uB205\\uC2A4\\uC5D0\\uC11C\\uB294 \\uC774\\uB97C File\\uB85C\\uC368 \\uAD00\\uB9AC\\uD558\\uBA70, \\uC708\\uB3C4\\uC6B0\\uC5D0\\uC11C\\uB294 \\uB530\\uB85C Socket descriptor\\uB77C\\uB294 \\uAC83\\uC73C\\uB85C \\uAD6C\\uBD84\\uD558\\uACE0 \\uC788\\uB2E4\\uB294 \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,n.jsxs)(e.p,{children:[\"\\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \",(0,n.jsx)(e.code,{children:\"socket()\"}),\" \\uD568\\uC218\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294\\uB370, \\uAC01 \\uC6B4\\uC601\\uCCB4\\uC81C\\uBCC4\\uB85C \\uD574\\uB2F9 \\uD568\\uC218\\uB97C \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD55C \\uC900\\uBE44\\uAC00 \\uB2E4\\uB974\\uB2E4.\"]}),(0,n.jsxs)(e.blockquote,{children:[(0,n.jsx)(e.p,{children:\"Linux\"}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-C\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/types.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/socket.h\u003e\"})]}),`\n`]})]})})]}),(0,n.jsxs)(e.blockquote,{children:[(0,n.jsx)(e.p,{children:\"Windows\"}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-C\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"WSADATA wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAStartup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"MAKEWORD\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]}),(0,n.jsxs)(e.p,{children:[\"\\uB9AC\\uB205\\uC2A4\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uC18C\\uCF13\\uACFC \\uAD00\\uB828\\uB41C \\uC815\\uBCF4\\uAC00 \\uD3EC\\uD568\\uB418\\uC5B4 \\uC788\\uB294 \\uD5E4\\uB354 \\uD30C\\uC77C\\uC744 \\uCD94\\uAC00\\uD558\\uBA74 \\uB418\\uACE0, \\uC708\\uB3C4\\uC6B0\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uC18C\\uCF13\\uACFC \\uAD00\\uB828\\uB41C \\uB3D9\\uC801 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC(DLL)\\uB97C \\uBD88\\uB7EC\\uC624\\uAE30 \\uC704\\uD55C \\uCF54\\uB4DC\\uAC00 \\uD544\\uC694\\uD558\\uB2E4. \\uD2B9\\uD788, \\uC708\\uB3C4\\uC6B0\\uB294 \\uB124\\uD2B8\\uC6CC\\uD06C\\uC640 \\uAD00\\uB828\\uB41C \\uC791\\uC5C5\\uC774 \\uB9C8\\uCCD0\\uC9C0\\uBA74 \",(0,n.jsx)(e.code,{children:\"WSACleanup()\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574 \\uD560\\uB2F9 \\uD574\\uC81C\\uB97C \\uD574\\uC8FC\\uC5B4\\uC57C \\uD55C\\uB2E4. \\uC704\\uC758 \\uC0AC\\uC804\\uC791\\uC5C5\\uC744 \\uB9C8\\uCE58\\uBA74 \\uC544\\uB798 \\uC815\\uC758\\uB418\\uC5B4 \\uC788\\uB294 \",(0,n.jsx)(e.code,{children:\"socket()\"}),\" \\uD568\\uC218\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"Linux : \",(0,n.jsx)(e.code,{children:\"int socket(int domain, int type, int protocol)\"})]}),(0,n.jsxs)(e.li,{children:[\"Windows : \",(0,n.jsx)(e.code,{children:\"SOCKET socket(int af, int type, int protocol)\"})]})]}),(0,n.jsxs)(e.p,{children:[\"\\uB610\\uD55C, \\uC791\\uC5C5\\uC744 \\uB9C8\\uCE58\\uBA74 \\uC18C\\uCF13\\uC744 \\uB2EB\\uC544\\uC8FC\\uC5B4\\uC57C \\uD558\\uB294\\uB370, Linux\\uB294 \",(0,n.jsx)(e.code,{children:\"close()\"}),\"\\uB85C, Windows\\uB294 \",(0,n.jsx)(e.code,{children:\"closesocket()\"}),\"\\uC73C\\uB85C \\uC18C\\uCF13\\uC744 \\uB2EB\\uC744 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.p,{children:[\"\\uB450 \\uC6B4\\uC601\\uCCB4\\uC81C \\uBAA8\\uB450 \\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD558\\uAE30 \\uC704\\uD574 \\uC138 \\uAC00\\uC9C0 \\uD30C\\uB77C\\uBBF8\\uD130\\uB97C \\uBC1B\\uB294\\uB2E4. \\uAC01 \\uD30C\\uB77C\\uBBF8\\uD130\\uC5D0 \\uB300\\uD55C \\uC124\\uBA85\\uACFC \\uC0AC\\uC6A9 \\uAC00\\uB2A5\\uD55C \\uC635\\uC158\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4. \\uAC01 \\uC635\\uC158\\uBCC4 \\uC804\\uC81C \\uB0B4\\uC6A9 \\uBAA9\\uB85D\\uC740 \\uC0C1\\uC138 \\uD398\\uC774\\uC9C0(\",(0,n.jsx)(e.a,{href:\"https://man7.org/linux/man-pages/man2/socket.2.html\",children:\"Linux\"}),\" / \",(0,n.jsx)(e.a,{href:\"https://learn.microsoft.com/ko-kr/windows/win32/api/winsock2/nf-winsock2-socket\",children:\"Windows\"}),\")\\uC5D0\\uC11C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.h3,{id:\"1-domain--af-address-family\",children:[(0,n.jsx)(e.a,{href:\"#1-domain--af-address-family\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"1. Domain / AF (Address Family)\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"socket()\"}),\"\\uC758 \\uCCAB\\uBC88\\uC9F8 \\uC778\\uC790\\uB294 \\uC5B4\\uB5A4 \\uB124\\uD2B8\\uC6CC\\uD06C\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uB418\\uB294 \\uC18C\\uCF13\\uC778\\uC9C0\\uB97C \\uC9C0\\uC815\\uD558\\uB294 \\uC5ED\\uD560\\uC744 \\uD55C\\uB2E4. \\uAC01 \\uC6B4\\uC601\\uCCB4\\uC81C\\uBCC4 \\uB300\\uD45C\\uC801\\uC778 \\uC635\\uC158\\uC740 \\uC544\\uB798 \\uD45C\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{align:\"none\",children:\"Linux Name\"}),(0,n.jsx)(e.th,{align:\"none\",children:\"Windows Name\"}),(0,n.jsx)(e.th,{align:\"none\",children:\"Purpose\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"AF_INET\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"AF_INET\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"IPv4 \\uD1B5\\uC2E0\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"AF_INET6\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"AF_INET6\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"IPv6 \\uD1B5\\uC2E0\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"AF_BLUETOOTH\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"AF_BTH\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"Blutooth \\uD1B5\\uC2E0\"})]})]})]}),(0,n.jsx)(e.p,{children:\"IPv4\\uC640 IPv6\\uB294 \\uC778\\uD130\\uB137 \\uD1B5\\uC2E0\\uC744 \\uB9D0\\uD558\\uBA70, v4\\uB294 32bit\\uB85C \\uC774\\uB8E8\\uC5B4\\uC9C4 \\uC8FC\\uC18C\\uCCB4\\uACC4\\uB97C \\uB9D0\\uD558\\uACE0, v6\\uB294 128bit\\uB85C \\uC774\\uB8E8\\uC5B4\\uC9C4 \\uC8FC\\uC18C \\uCCB4\\uACC4\\uB97C \\uB9D0\\uD55C\\uB2E4. \\uB300\\uC911\\uC801\\uC73C\\uB85C\\uB294 IPv4\\uB97C \\uC0AC\\uC6A9\\uD55C\\uB2E4.\"}),(0,n.jsxs)(e.h3,{id:\"2-type\",children:[(0,n.jsx)(e.a,{href:\"#2-type\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2. Type\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"socket()\"}),\"\\uC758 \\uB450\\uBC88\\uC9F8 \\uC778\\uC790\\uB294 \\uC18C\\uCF13\\uC758 \\uD0C0\\uC785\\uC744 \\uC9C0\\uC815\\uD558\\uB294 \\uC5ED\\uD560\\uC744 \\uD55C\\uB2E4. \\uB300\\uD45C\\uC801\\uC778 \\uC635\\uC158\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{align:\"none\",children:\"Name\"}),(0,n.jsx)(e.th,{align:\"none\",children:\"Defination\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"SOCK_STREAM\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"Sequenced, reliable, two-way, connection-based byte stream\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"SOCK_DGRAM\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"Connectionless, unreliable\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"SOCK_RAW\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"Raw socket\"})]})]})]}),(0,n.jsx)(e.p,{children:\"SOCK_STREAM\\uC740 \\uC591\\uBC29\\uD5A5 \\uC5F0\\uACB0\\uC73C\\uB85C \\uD328\\uD0B7\\uC758 \\uC21C\\uC11C\\uC640 \\uB3C4\\uCC29 \\uC5EC\\uBD80\\uB97C \\uBCF4\\uC7A5\\uD558\\uBA70, SOCK_DGRAM\\uC740 \\uC544\\uBB34\\uAC83\\uB3C4 \\uBCF4\\uC7A5\\uD558\\uC9C0 \\uC54A\\uB294 \\uC5F0\\uACB0\\uC744 \\uB9CC\\uB4E0\\uB2E4.\"}),(0,n.jsx)(e.p,{children:\"SOCK_RAW\\uB294 \\uD1B5\\uC2E0\\uC5D0 \\uC0AC\\uC6A9\\uB418\\uB294 \\uD5E4\\uB354\\uB97C \\uC9C1\\uC811 \\uC218\\uC815\\uD560 \\uC218 \\uC788\\uC73C\\uBA70, \\uC0AC\\uC6A9\\uB418\\uB294 \\uD504\\uB85C\\uD1A0\\uCF5C\\uC744 \\uC9C1\\uC811 \\uC9C0\\uC815\\uD574 \\uC8FC\\uC5B4\\uC57C \\uD55C\\uB2E4. \\uB2E4\\uB9CC, \\uD328\\uD0B7\\uC758 \\uD5E4\\uB354\\uC640 \\uAC19\\uC740 \\uC815\\uBCF4\\uB294 \\uCEE4\\uB110 \\uC601\\uC5ED\\uC5D0\\uC11C \\uB2E4\\uB904\\uC9C0\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uAD00\\uB9AC\\uC790(\\uB610\\uB294 root) \\uAD8C\\uD55C\\uC744 \\uAC00\\uC9C4 \\uC720\\uC800\\uB9CC \\uD574\\uB2F9 \\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,n.jsxs)(e.h3,{id:\"3-protocol\",children:[(0,n.jsx)(e.a,{href:\"#3-protocol\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"3. Protocol\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"socket()\"}),\"\\uC758 \\uC138\\uBC88\\uC9F8 \\uC778\\uC790\\uB294 \\uC18C\\uCF13\\uC758 \\uD504\\uB85C\\uD1A0\\uCF5C\\uC744 \\uC9C0\\uC815\\uD558\\uB294 \\uC5ED\\uD560\\uC744 \\uD55C\\uB2E4. \\uB300\\uD45C\\uC801\\uC778 \\uC635\\uC158\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{align:\"none\",children:\"Number\"}),(0,n.jsx)(e.th,{align:\"none\",children:\"Name\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"1\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"ICMP\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"6\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"TCP\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{align:\"none\",children:\"17\"}),(0,n.jsx)(e.td,{align:\"none\",children:\"UDP\"})]})]})]}),(0,n.jsxs)(e.p,{children:[\"\\uC138\\uBC88\\uC9F8 \\uC778\\uC790\\uC778 \",(0,n.jsx)(e.em,{children:\"protocol\"}),\" \\uC740 int \\uD615\\uC2DD\\uC73C\\uB85C \\uC815\\uC758\\uB418\\uBA70, \\uAC01 \\uD504\\uB85C\\uD1A0\\uCF5C\\uBCC4\\uB85C \\uC22B\\uC790\\uC640 \\uC774\\uB984\\uC774 \\uC9C0\\uC815\\uB418\\uC5B4 \\uC788\\uB2E4. \\uAC01 \\uD504\\uB85C\\uD1A0\\uCF5C \\uBC88\\uD638\\uC640 \\uC774\\uB984\\uC740 \",(0,n.jsx)(e.a,{href:\"https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml\",children:\"\\uD574\\uB2F9 \\uB9C1\\uD06C\"}),\"\\uC5D0\\uC11C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC73C\\uBA70, \\uCF54\\uB4DC\\uC5D0\\uC11C\\uB294 \",(0,n.jsx)(e.code,{children:\"IPROTO_\u003cNAME\u003e\"}),\" \\uD615\\uC2DD\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.p,{children:[\"\\uB2E4\\uB9CC, \\uC8FC\\uB85C Domain/AF\\uC640 Type\\uC744 \\uC9C0\\uC815\\uD558\\uAC8C \\uB418\\uBA74 \\uD574\\uB2F9\\uD558\\uB294 \\uD504\\uB85C\\uD1A0\\uCF5C\\uC740 \\uC720\\uC77C\\uD55C \\uACBD\\uC6B0\\uAC00 \\uB9CE\\uC73C\\uBA70, \\uC774\\uB7F0 \\uC0C1\\uD669\\uC5D0\\uC11C\\uB294 \",(0,n.jsx)(e.code,{children:\"0\"}),\"\\uC744 \\uC804\\uB2EC\\uD568\\uC73C\\uB85C\\uC368 \\uC790\\uB3D9\\uC73C\\uB85C \\uC801\\uC808\\uD55C \\uD504\\uB85C\\uD1A0\\uCF5C\\uC744 \\uCC3E\\uC544 \\uC801\\uC6A9\\uD55C\\uB2E4. \\uC608\\uC2DC\\uB85C, IPv4\\uC5D0\\uC11C TCP \\uC5F0\\uACB0\\uC744 \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC2F6\\uB2E4\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\"socket(AF_INET, SOCK_STREAM, 0)\"})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\"socket(AF_INET, SOCK_STREAM, IPROTO_TCP)\"})})]}),(0,n.jsx)(e.p,{children:\"\\uB2E4\\uB9CC, ICMP\\uC640 \\uAC19\\uC774 \\uD2B9\\uC815\\uD55C \\uD504\\uB85C\\uD1A0\\uCF5C\\uC744 \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC2F6\\uAC70\\uB098 \\uD328\\uD0B7\\uC758 \\uD5E4\\uB354\\uB97C \\uC9C1\\uC811 \\uC218\\uC815\\uD558\\uACE0 \\uC2F6\\uC744 \\uB54C\\uB294 SOCK_RAW\\uB97C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\"socket(AF_INET, SOCK_RAW, IPROTO_TCP)\"})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\"socket(AF_INET, SOCK_RAW, IPROTO_ICMP)\"})})]}),(0,n.jsxs)(e.h3,{id:\"appendix-\\uC18C\\uCF13-\\uC0DD\\uC131-\\uC2E4\\uD328\\uC2DC\",children:[(0,n.jsx)(e.a,{href:\"#appendix-\\uC18C\\uCF13-\\uC0DD\\uC131-\\uC2E4\\uD328\\uC2DC\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Appendix. \\uC18C\\uCF13 \\uC0DD\\uC131 \\uC2E4\\uD328\\uC2DC\"]}),(0,n.jsx)(e.p,{children:\"\\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD558\\uB294 \\uB370 \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0\\uB294 \\uAC01 OS\\uBCC4\\uB85C \\uB300\\uCC98\\uBC95\\uC774 \\uB2E4\\uB974\\uB2E4.\"}),(0,n.jsxs)(e.h4,{id:\"linux\",children:[(0,n.jsx)(e.a,{href:\"#linux\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Linux\"]}),(0,n.jsxs)(e.p,{children:[\"\\uB9AC\\uB205\\uC2A4\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD558\\uB294 \\uB370 \\uC2E4\\uD328\\uD558\\uBA74 -1\\uC744 \\uB9AC\\uD134\\uD558\\uBA70, \\uC790\\uC138\\uD55C \\uC2E4\\uD328 \\uC774\\uC720\\uB294 \",(0,n.jsx)(e.code,{children:\"errno\"}),\"\\uB97C \\uD1B5\\uD574 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4. \",(0,n.jsx)(e.code,{children:\"errno\"}),\"\\uB294 \\uB9AC\\uB205\\uC2A4\\uC5D0\\uC11C System Call\\uC744 \\uD588\\uC744 \\uB54C \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0 \\uC774\\uC720\\uB97C \\uC54C\\uB824\\uC8FC\\uAE30 \\uC704\\uD574 \\uC0AC\\uC6A9\\uD558\\uB294 \\uBCC0\\uC218\\uC774\\uBA70, \",(0,n.jsx)(e.code,{children:\"errno.h\"}),\"\\uC5D0 \\uC815\\uC758\\uB418\\uC5B4 \\uC788\\uB2E4. \",(0,n.jsx)(e.code,{children:\"errno\"}),\"\\uB294 \\uB2E8\\uC21C\\uD55C int\\uAC12\\uC778\\uB370, \\uC774\\uC5D0 \\uB300\\uD55C \\uC124\\uBA85\\uC744 \\uD3EC\\uD568\\uD558\\uB294 error message\\uB294 \",(0,n.jsx)(e.code,{children:\"strerror()\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574 \\uD655\\uC778\\uD558\\uAC70\\uB098, \",(0,n.jsx)(e.code,{children:\"perror()\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4. \\uC5D0\\uB7EC\\uB97C \\uD655\\uC778\\uD558\\uB294 \\uC608\\uC2DC \\uCF54\\uB4DC\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-C\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstdio.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cerrno.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/types.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/socket.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fprintf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"stderr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"socket(): %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"strerror\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"errno\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"perror\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"socket()\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"fprintf\\uC640 perror \\uBAA8\\uB450 \",(0,n.jsx)(e.code,{children:\"socket(): ~~~\"}),\"\\uC758 \\uD615\\uD0DC\\uB85C \\uBA54\\uC138\\uC9C0\\uB97C \\uCD9C\\uB825\\uD55C\\uB2E4.\"]}),(0,n.jsxs)(e.h4,{id:\"windows\",children:[(0,n.jsx)(e.a,{href:\"#windows\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Windows\"]}),(0,n.jsxs)(e.p,{children:[\"\\uC708\\uB3C4\\uC6B0\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD558\\uB294 \\uB370 \\uC2E4\\uD328\\uD558\\uBA74 \",(0,n.jsx)(e.code,{children:\"INVALID_SOCKET\"}),\"\\uC744 \\uBC18\\uD658\\uD558\\uBA70, \\uC790\\uC138\\uD55C \\uC2E4\\uD328 \\uC774\\uC720\\uB294 \",(0,n.jsx)(e.code,{children:\"WSAGetLastError()\"}),\"\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4. \\uB9AC\\uB205\\uC2A4\\uC640 \\uB9C8\\uCC2C\\uAC00\\uC9C0\\uB85C int \\uD615\\uC2DD\\uC73C\\uB85C \\uC774\\uB8E8\\uC5B4\\uC838 \\uC788\\uC73C\\uBA70, \\uBA54\\uC138\\uC9C0\\uB97C \\uD655\\uC778\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \",(0,n.jsx)(e.code,{children:\"FormatMessage()\"}),\"\\uB97C \\uC774\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4. \\uC5D0\\uB7EC\\uB97C \\uD655\\uC778\\uD558\\uB294 \\uC608\\uC2DC \\uCF54\\uB4DC\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-C\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstdio.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWindows.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print_error_message\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" prefix\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    LPTSTR error_string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"FormatMessage\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"FORMAT_MESSAGE_ALLOCATE_BUFFER \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" FORMAT_MESSAGE_FROM_SYSTEM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                      \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"NULL\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"LPTSTR\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"error_string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"NULL\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fprintf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"stderr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"%s: %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" prefix\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" error_string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"LocalFree\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"error_string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fprintf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"stderr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"%s failed with error number: %d\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" prefix\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" error\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    WSADATA wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" result \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAStartup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"MAKEWORD\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"result \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fprintf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"stderr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"WSAStartup failed: %d\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKET sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"==\"}),\" INVALID_SOCKET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print_error_message\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"socket()\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAGetLastError\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSACleanup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"closesocket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSACleanup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.hr,{}),(0,n.jsxs)(e.h1,{id:\"2-\\uC11C\\uBC84\",children:[(0,n.jsx)(e.a,{href:\"#2-\\uC11C\\uBC84\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2. \\uC11C\\uBC84\"]}),(0,n.jsx)(e.p,{children:\"\\uC0DD\\uC131\\uB41C \\uC18C\\uCF13\\uC740 \\uC11C\\uBC84\\uB85C \\uC5F4\\uC5B4 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uACE0, \\uBC18\\uB300\\uB85C \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB85C\\uC368 \\uC11C\\uBC84\\uC5D0 \\uC5F0\\uACB0\\uD558\\uC5EC \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4. \\uC544\\uB798\\uC5D0\\uC11C\\uB294 \\uC11C\\uBC84\\uB85C \\uC0AC\\uC6A9\\uD558\\uB294 \\uBC29\\uBC95\\uC5D0 \\uB300\\uD574 \\uAE30\\uC220\\uD55C\\uB2E4.\"}),(0,n.jsxs)(e.h2,{id:\"2-1-bind\",children:[(0,n.jsx)(e.a,{href:\"#2-1-bind\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2-1. Bind\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"socket()\"}),\" \\uD568\\uC218\\uB85C \\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD558\\uBA74, \\uD574\\uB2F9 \\uC18C\\uCF13\\uC740 \\uC18C\\uD1B5 \\uCCB4\\uACC4\\uB294 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC73C\\uB098 \\uC8FC\\uC18C\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uC9C0 \\uC54A\\uB2E4. \\uC0DD\\uC131\\uB41C \\uC18C\\uCF13\\uC5D0 \\uC8FC\\uC18C\\uB97C \\uD560\\uB2F9\\uD574 \\uC8FC\\uB294 \\uACFC\\uC815\\uC774 \\uBC14\\uC778\\uB4DC(bind) \\uACFC\\uC815\\uC774\\uBA70, \",(0,n.jsx)(e.code,{children:\"bind()\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574 \\uC9C4\\uD589\\uB41C\\uB2E4. \\uD574\\uB2F9 \\uD568\\uC218\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uC6D0\\uD615\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"Linux: \",(0,n.jsx)(e.code,{children:\"int bind(int sockfd, const struct sockaddr *addr, socklen_t addrlen)\"})]}),(0,n.jsxs)(e.li,{children:[\"Windows: \",(0,n.jsx)(e.code,{children:\"int bind(SOCKET s, const sockaddr *name, int namelen)\"})]})]}),(0,n.jsx)(e.p,{children:\"\\uB450 \\uC6B4\\uC601\\uCCB4\\uC81C \\uBAA8\\uB450 \\uCCAB \\uC778\\uC790\\uB85C\\uB294 \\uC0DD\\uC131\\uD55C \\uC18C\\uCF13\\uC758 descriptor\\uB97C \\uBC1B\\uACE0, \\uB450\\uBC88\\uC9F8 \\uC778\\uC790\\uB85C\\uB294 \\uC8FC\\uC18C\\uC758 \\uC815\\uBCF4\\uB97C \\uBC1B\\uC73C\\uBA70, \\uC138\\uBC88\\uC9F8 \\uC778\\uC790\\uB85C\\uB294 \\uB450\\uBC88\\uC9F8 \\uC778\\uC790\\uB85C \\uBCF4\\uB0B8 \\uC8FC\\uC18C \\uC815\\uBCF4\\uC758 \\uAE38\\uC774\\uB97C \\uBC1B\\uB294\\uB2E4.\"}),(0,n.jsxs)(e.p,{children:[\"\\uBC14\\uC778\\uB4DC \\uACFC\\uC815\\uC5D0\\uC11C \\uC81C\\uC77C \\uC911\\uC694\\uD55C \\uAC83\\uC740 \\uC8FC\\uC18C \\uC815\\uBCF4\\uC778\\uB370, \\uC774 \\uC815\\uBCF4\\uB294 \",(0,n.jsx)(e.code,{children:\"sockaddr\"}),\" \\uC774\\uB77C\\uB294 \\uAD6C\\uC870\\uCCB4\\uC5D0 \\uB2F4\\uACA8 \\uC804\\uB2EC\\uB41C\\uB2E4. \\uD574\\uB2F9 \\uAD6C\\uC870\\uCCB4\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uAD6C\\uC131\\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sa_family_t\"}),\" sa_family\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\"        sa_data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"14\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typedef\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    ushort  sa_family\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\"    sa_data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"14\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" SOCKADDR\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"sa_family_t\"}),\"\\uC640 \",(0,n.jsx)(e.code,{children:\"ushort\"}),\"\\uB294 \\uBAA8\\uB450 \",(0,n.jsx)(e.code,{children:\"unsigned short\"}),\"\\uC774\\uBA70, 2\\uBC14\\uC774\\uD2B8\\uC758 \\uAC12\\uC774\\uB2E4. \\uC989, \",(0,n.jsx)(e.code,{children:\"sockaddr\"}),\"\\uC740 16\\uBC14\\uC774\\uD2B8\\uC758 \\uB370\\uC774\\uD130\\uB85C \\uAD6C\\uC131\\uB418\\uC5B4 \\uC788\\uC73C\\uBA70, \",(0,n.jsx)(e.code,{children:\"sa_family\"}),\"\\uB294 \\uC18C\\uCF13\\uC758 \\uC8FC\\uC18C\\uCCB4\\uACC4\\uB97C \\uB098\\uD0C0\\uB0B4\\uACE0 \",(0,n.jsx)(e.code,{children:\"sa_data\"}),\"\\uB294 \\uD574\\uB2F9 \\uC8FC\\uC18C\\uCCB4\\uACC4\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB294 \\uC8FC\\uC18C \\uC815\\uBCF4\\uB97C \\uB098\\uD0C0\\uB0B8\\uB2E4.\"]}),(0,n.jsxs)(\"details\",{children:[(0,n.jsx)(\"summary\",{children:\"sockaddr \\uAD00\\uB828 \\uC2EC\\uD654 \\uB0B4\\uC6A9\"}),(0,n.jsxs)(e.p,{children:[\"\\uC704 \\uAD6C\\uC870\\uCCB4\\uC758 \\uAD6C\\uC870\\uB97C \\uBCF4\\uBA74 \",(0,n.jsx)(e.code,{children:\"sa_data\"}),\"\\uB294 \\uBAA8\\uB4E0 \\uD1B5\\uC2E0 \\uCCB4\\uACC4\\uC758 \\uC8FC\\uC18C \\uC815\\uBCF4\\uB97C \\uB2F4\\uC744 \\uC218 \\uC788\\uC744\\uB9CC\\uD07C \\uD070 \\uC0AC\\uC774\\uC988\\uB97C \\uAC00\\uC838\\uC57C \\uD558\\uC9C0\\uB9CC, \\uC2E4\\uC81C\\uB85C\\uB294 IPv6\\uC758 \\uC8FC\\uC18C \\uC815\\uBCF4\\uB3C4 \\uBAA8\\uB450 \\uB2F4\\uC9C0 \\uBABB\\uD55C\\uB2E4. glibc(GNU C Library)\\uC758 \",(0,n.jsx)(e.a,{href:\"https://www.gnu.org/software/libc/manual/html_node/Address-Formats.html\",children:\"\\uC124\\uBA85\"}),\"\\uC744 \\uBCF4\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC791\\uC131\\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"This is the actual socket address data, which is format-dependent. Its length also depends on the format, and may well be more than 14. The length 14 of sa_data is essentially arbitrary.\"})}),(0,n.jsxs)(e.p,{children:[\"\\uC989, 14\\uBC14\\uC774\\uD2B8\\uB77C\\uB294 \\uD06C\\uAE30\\uB294 \\uC784\\uC758\\uB85C \\uC124\\uC815\\uB41C \\uAC83\\uC774\\uBA70 \\uC8FC\\uC18C \\uCCB4\\uACC4\\uC5D0 \\uB530\\uB77C \\uD06C\\uAE30\\uAC00 \\uC5BC\\uB9C8\\uB4E0\\uC9C0 \\uBCC0\\uD560 \\uC218 \\uC788\\uB2E4\\uB294 \\uAC83\\uC774\\uB2E4. \\uB530\\uB77C\\uC11C \",(0,n.jsx)(e.code,{children:\"bind()\"}),\" \\uD568\\uC218\\uC5D0\\uC11C\\uB294 \\uB530\\uB85C \",(0,n.jsx)(e.code,{children:\"socklen_t addrlen\"}),\" \\uB610\\uB294 \",(0,n.jsx)(e.code,{children:\"int namelen\"}),\"\\uC744 \\uD1B5\\uD574 \\uC2E4\\uC81C \\uB370\\uC774\\uD130\\uC758 \\uAE38\\uC774\\uB97C \\uB530\\uB85C \\uBC1B\\uACE0 \\uC788\\uB294 \\uAC83\\uC744 \\uBCFC \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.p,{children:[\"\\uC608\\uB97C \\uB4E4\\uC5B4, IPv6\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \",(0,n.jsx)(e.code,{children:\"sockaddr_in6\"}),\"\\uB77C\\uB294 \\uAD6C\\uC870\\uCCB4\\uB97C \\uC0AC\\uC6A9\\uD558\\uBA70, \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uAD6C\\uC131\\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in6\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sa_family_t\"}),\"     sin6_family\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_port_t\"}),\"       sin6_port\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint32_t\"}),\"        sin6_flowinfo\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in6_addr\"}),\" sin6_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint32_t\"}),\"        sin6_scope_id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in6_addr\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unsigned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\"   s6_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typedef\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in6\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    ADDRESS_FAMILY  sin6_family\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    USHORT          sin6_port\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    ULONG           sin6_flowinfo\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    IN6_ADDR        sin6_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"union\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        ULONG       sin6_scope_id\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        SCOPE_ID    sin6_scope_struct\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" SOCKADDR_IN6\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typedef\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in6_addr\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"union\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        UCHAR   Byte\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        USHORT  Word\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" u\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" IN6_ADDR\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\uC704 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uBCFC \\uC218 \\uC788\\uB4EF, IPv6\\uB97C \\uC704\\uD55C \\uC8FC\\uC18C \\uC815\\uBCF4\\uB294 28\\uBC14\\uC774\\uD2B8\\uB85C \\uC774\\uB8E8\\uC5B4\\uC838 \\uC788\\uC73C\\uBA70, \",(0,n.jsx)(e.code,{children:\"sockaddr\"}),\"\\uC758 \\uC0AC\\uC774\\uC988\\uC778 16\\uBC14\\uC774\\uD2B8\\uBCF4\\uB2E4 \\uD070 \\uAC83\\uC744 \\uBCFC \\uC218 \\uC788\\uB2E4.\"]})]}),(0,n.jsxs)(e.p,{children:[\"\\uB300\\uD45C\\uC801\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD558\\uB294 IPv4 \\uD1B5\\uC2E0\\uC758 \\uACBD\\uC6B0 \\uC8FC\\uC18C \\uC815\\uBCF4\\uC5D0\\uB294 IP\\uC640 Port \\uBC88\\uD638\\uAC00 \\uD544\\uC694\\uD558\\uB2E4. \\uADF8\\uB7EC\\uB098 IP \\uAC12\\uACFC Port \\uAC12\\uC744 \\uBC14\\uC774\\uD2B8 \\uB2E8\\uC704\\uB85C \\uC9C1\\uC811 \\uB123\\uB294 \\uAC83\\uC740 \\uB9E4\\uC6B0 \\uC5B4\\uB835\\uACE0 Human Error\\uC758 \\uAC00\\uB2A5\\uC131\\uC774 \\uB192\\uC73C\\uBBC0\\uB85C, \\uC8FC\\uB85C \",(0,n.jsx)(e.code,{children:\"sockaddr_in\"}),\"\\uC774\\uB77C\\uB294 \\uC0AC\\uC774\\uC988\\uAC00 \\uAC19\\uC740 \\uAD6C\\uC870\\uCCB4\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uB370\\uC774\\uD130\\uB97C \\uB123\\uC740 \\uD6C4\\uC5D0 \",(0,n.jsx)(e.code,{children:\"sockaddr\"}),\"\\uB85C \\uBCC0\\uD658\\uD558\\uC5EC \\uC0AC\\uC6A9\\uD55C\\uB2E4. \",(0,n.jsx)(e.code,{children:\"sockaddr_in\"}),\" \\uAD6C\\uC870\\uCCB4\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uAD6C\\uC131\\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sin_family_t\"}),\"    sin_family\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint16_t\"}),\"        sin_port\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_addr\"}),\"  sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\"            sin_zero\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_addr\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_addr_t\"}),\"   s_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typedef\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"short\"}),\"           sin_family\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    u_short         sin_port\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_addr\"}),\"  sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\"            sin_zero\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" SOCKADDR_IN\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_addr\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"union\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            u_char  s_b1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            u_char  s_b2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            u_char  s_b3\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            u_char  s_b4\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" S_un_b\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            u_short s_w1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            u_short s_w2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" S_un_w\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        u_long  S_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" S_un\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\uC704 \\uCF54\\uB4DC\\uB97C \\uD1B5\\uD574 \",(0,n.jsx)(e.code,{children:\"sockaddr_in\"}),\" \\uAD6C\\uC870\\uCCB4\\uB294 \",(0,n.jsx)(e.code,{children:\"sin_family\"}),\" 2\\uBC14\\uC774\\uD2B8, \",(0,n.jsx)(e.code,{children:\"sin_port\"}),\" 2\\uBC14\\uC774\\uD2B8, \",(0,n.jsx)(e.code,{children:\"sin_addr\"}),\" 4\\uBC14\\uC774\\uD2B8, \",(0,n.jsx)(e.code,{children:\"sin_zero\"}),\" 8\\uBC14\\uC774\\uD2B8\\uB85C \\uAD6C\\uC131\\uB418\\uC5B4 \\uC788\\uC74C\\uC744 \\uC54C \\uC218 \\uC788\\uB2E4. \\uAC01\\uAC01\\uC758 \\uC5ED\\uD560\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"sin_family\"}),\" : \\uD1B5\\uC2E0 \\uC8FC\\uC18C \\uCCB4\\uACC4\\uB97C \\uC800\\uC7A5\\uD55C\\uB2E4. \\uC8FC\\uB85C \",(0,n.jsx)(e.code,{children:\"AF_INET\"}),\" \\uB610\\uB294 \",(0,n.jsx)(e.code,{children:\"AF_INET6\"}),\" \\uB4F1\\uC744 \\uC0AC\\uC6A9\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"sin_port\"}),\" : \\uD1B5\\uC2E0 \\uD3EC\\uD2B8\\uB97C \",(0,n.jsx)(e.strong,{children:\"\\uBE45 \\uC5D4\\uB514\\uC548\"}),\" \\uBC29\\uC2DD\\uC73C\\uB85C \\uC800\\uC7A5\\uD55C\\uB2E4.\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"sin_addr\"}),\" : IP \\uC8FC\\uC18C\\uB97C \",(0,n.jsx)(e.strong,{children:\"\\uBE45 \\uC5D4\\uB514\\uC548\"}),\" \\uBC29\\uC2DD\\uC73C\\uB85C \\uC800\\uC7A5\\uD55C\\uB2E4.\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"sin_zero\"}),\" : Zero Padding(\\uB0A8\\uC740 \\uBD80\\uBD84\\uC744 0\\uC73C\\uB85C \\uCC44\\uC6B0\\uB294 \\uAC83)\\uC744 \\uC704\\uD55C \\uBD80\\uBD84.\"]})]}),(0,n.jsxs)(e.p,{children:[\"\\uC5EC\\uAE30\\uC11C \\uC911\\uC694\\uD55C \\uAC83\\uC740 \",(0,n.jsx)(e.strong,{children:\"\\uBE45 \\uC5D4\\uB514\\uC548\"}),\"\\uC73C\\uB85C \\uC800\\uC7A5\\uD55C\\uB2E4\\uB294 \\uBD80\\uBD84\\uC778\\uB370, \\uC8FC\\uB85C CPU\\uC5D0\\uC11C\\uB294 \",(0,n.jsx)(e.strong,{children:\"\\uB9AC\\uD2C0 \\uC5D4\\uB514\\uC548\"}),\" \\uBC29\\uC2DD\\uC73C\\uB85C \\uB370\\uC774\\uD130\\uB97C \\uC800\\uC7A5\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC774\\uB97C \\uBCC0\\uD658\\uD558\\uB294 \\uACFC\\uC815\\uC774 \\uD544\\uC694\\uD558\\uB2E4. \\uC774\\uB294 \",(0,n.jsx)(e.code,{children:\"htons()\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574 \\uBCC0\\uD658\\uD560 \\uC218 \\uC788\\uB2E4. \",(0,n.jsx)(e.code,{children:\"htons\"}),\"\\uB294 Host to Network Short\\uC758 \\uC904\\uC778\\uB9D0\\uB85C, \\uAC01 \\uC790\\uB8CC\\uD615\\uBCC4\\uB85C \\uD568\\uC218\\uAC00 \\uC874\\uC7AC\\uD558\\uBA70, \\uBE45 \\uC5D4\\uB514\\uC548\\uC5D0\\uC11C \\uB9AC\\uD2C0 \\uC5D4\\uB514\\uC548\\uC73C\\uB85C \\uBCC0\\uD658\\uD558\\uB294 \",(0,n.jsx)(e.code,{children:\"ntohs\"}),\"\\uB3C4 \\uC874\\uC7AC\\uD55C\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003carpa/inet.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint32_t\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint32_t\"}),\" hostlong\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint16_t\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint16_t\"}),\" hostshort\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint32_t\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ntohl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint32_t\"}),\" netlong\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint16_t\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ntohs\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"uint16_t\"}),\" netshort\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"u_long \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"u_long hostlong\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"u_short \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"u_short hostshort\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"u_long \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ntohl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"u_long netlong\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"u_short \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ntohs\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"u_short netshort\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"htons\"}),\"\\uB97C \\uD1B5\\uD574 \\uD3EC\\uD2B8 \\uC815\\uBCF4\\uB97C \\uC800\\uC7A5\\uD560 \\uC218 \\uC788\\uB2E4\\uBA74, IP \\uC8FC\\uC18C\\uB294 \",(0,n.jsx)(e.code,{children:\"inet_addr\"}),\"\\uC744 \\uC774\\uC6A9\\uD558\\uC5EC \\uC800\\uC7A5\\uD560 \\uC218 \\uC788\\uB2E4. \\uC8FC\\uB85C IP \\uC815\\uBCF4\\uB294 String \\uD615\\uD0DC\\uB85C \\uB4E4\\uC5B4\\uC624\\uAE30 \\uB54C\\uBB38\\uC5D0, \\uBB38\\uC790\\uC5F4\\uC744 \\uC815\\uC218\\uB85C \\uBCC0\\uD658\\uD558\\uACE0, \\uC774\\uB97C \\uBE45\\uC5D4\\uB514\\uC548\\uC73C\\uB85C \\uBCC0\\uD658\\uD558\\uC5EC \",(0,n.jsx)(e.code,{children:\"in_addr_t\"}),\" \\uB610\\uB294 \",(0,n.jsx)(e.code,{children:\"u_long\"}),\" \\uD615\\uC2DD\\uC73C\\uB85C \\uBCC0\\uD658\\uD558\\uB294 \\uD568\\uC218\\uAC00 \",(0,n.jsx)(e.code,{children:\"inet_addr\"}),\"\\uC774\\uB2E4. \\uBC18\\uB300\\uB85C \",(0,n.jsx)(e.code,{children:\"in_addr\"}),\" \\uB610\\uB294 \",(0,n.jsx)(e.code,{children:\"u_long\"}),\" \\uD615\\uC2DD\\uC744 \\uB123\\uC5B4 \\uBB38\\uC790\\uC5F4 \\uD615\\uD0DC\\uB85C \\uBCC0\\uD658\\uD574 \\uC8FC\\uB294 \\uD568\\uC218\\uB294 \",(0,n.jsx)(e.code,{children:\"inet_ntoa\"}),\"\\uAC00 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/socket.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cnetinet/in.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003carpa/inet.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_addr_t\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"inet_addr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\"cp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"inet_ntoa\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"in_addr\"}),\" in\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"unsigned\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"long\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"inet_addr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\"cp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"char\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"inet_ntoa\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"in_addr in\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\uCD5C\\uC885\\uC801\\uC73C\\uB85C \\uC704 \\uACFC\\uC815\\uC744 \\uD1B5\\uD574 \",(0,n.jsx)(e.code,{children:\"sockaddr_in\"}),\" \\uAD6C\\uC870\\uCCB4\\uB97C \\uB9CC\\uB4E4 \\uC218 \\uC788\\uACE0, \\uC774\\uB97C \\uD1B5\\uD574 \",(0,n.jsx)(e.code,{children:\"sockaddr\"}),\" \\uAD6C\\uC870\\uCCB4\\uB85C \\uBCC0\\uACBD\\uD558\\uC5EC \",(0,n.jsx)(e.code,{children:\"bind()\"}),\" \\uD568\\uC218\\uB97C \\uD1B5\\uD574 \\uC18C\\uCF13\\uC5D0 \\uC8FC\\uC18C \\uC815\\uBCF4\\uB97C \\uBC18\\uC601\\uD560 \\uC218 \\uC788\\uB2E4. \\uC544\\uB798 \\uC608\\uC81C\\uB97C \\uD1B5\\uD574 \\uD574\\uB2F9 \\uACFC\\uC815\\uC744 \\uBCFC \\uC218 \\uC788\\uB2E4. \\uC544\\uB798 \\uCF54\\uB4DC\\uB97C \\uD1B5\\uD574 \\uC18C\\uCF13\\uC5D0 \\uC8FC\\uC18C\\uB97C \\uBC14\\uC778\\uB4DC \\uD558\\uB294 \\uACFC\\uC815\\uC744 \\uBCFC \\uC218 \\uC788\\uB2E4. (\\uD3B8\\uC758\\uB97C \\uC704\\uD574 Error Checking\\uC740 \\uC0DD\\uB7B5\\uD55C\\uB2E4.)\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/socket.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/types.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003carpa/inet.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cnetinet/in.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in\"}),\" serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Initialize zero for sin_zero\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"port\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"s_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"INADDR_ANY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:'// serv_addr.sin_addr.s_addr = inet_addr(\"0.0.0.0\");'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    WSADATA wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAStartup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"MAKEWORD\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKET sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKADDR_IN serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Initialize zero for sin_zero\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"port\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_un\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"INADDR_ANY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:'// serv_addr.sin_addr.S_un.S_addr = inet_addr(\"0.0.0.0\");'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"SOCKADDR \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"closesocket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSACleaup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"IP \\uC815\\uBCF4\\uB97C \\uB123\\uB294 \\uB370 \\uC0AC\\uC6A9\\uD55C \",(0,n.jsx)(e.code,{children:\"INADDR_ANY\"}),\"\\uB294 \",(0,n.jsx)(e.code,{children:\"0x00000000\"}),\"\\uC73C\\uB85C \\uC120\\uC5B8\\uB418\\uC5B4 \\uC788\\uC73C\\uBA70, \",(0,n.jsx)(e.code,{children:\"0.0.0.0\"}),\" \\uC8FC\\uC18C\\uB97C \\uAC00\\uB9AC\\uD0A8\\uB2E4. IPv4 \\uCCB4\\uACC4\\uC5D0\\uC11C \",(0,n.jsx)(e.code,{children:\"0.0.0.0\"}),\"\\uC740 \\uC790\\uAE30 \\uC790\\uC2E0\\uC758 \\uBAA8\\uB4E0 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uB97C \\uB098\\uD0C0\\uB0B4\\uBBC0\\uB85C, \\uC790\\uAE30 \\uC790\\uC2E0\\uC758 IP\\uB77C\\uACE0 \\uD574\\uC11D\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.h3,{id:\"appendix-bind-\\uC2E4\\uD328\\uC2DC\",children:[(0,n.jsx)(e.a,{href:\"#appendix-bind-\\uC2E4\\uD328\\uC2DC\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Appendix. Bind \\uC2E4\\uD328\\uC2DC\"]}),(0,n.jsxs)(e.p,{children:[\"Bind\\uB97C \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0 Linux\\uB294 \",(0,n.jsx)(e.code,{children:\"-1\"}),\"\\uC744 \\uB9AC\\uD134\\uD558\\uBA70, Windows\\uB294 \",(0,n.jsx)(e.code,{children:\"SOCKET_ERROR\"}),\"\\uB97C \\uB9AC\\uD134\\uD55C\\uB2E4. Socket \\uC0DD\\uC131 \\uC2E4\\uD328\\uC758 \\uACBD\\uC6B0\\uC640 \\uB9C8\\uCC2C\\uAC00\\uC9C0\\uB85C \",(0,n.jsx)(e.code,{children:\"errno\"}),\" \\uB610\\uB294 \",(0,n.jsx)(e.code,{children:\"WSAGetLastError()\"}),\"\\uB97C \\uD1B5\\uD574 \\uC0C1\\uC138\\uD55C \\uC2E4\\uD328 \\uC774\\uC720\\uB97C \\uC54C \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.h2,{id:\"2-2-listen-connection-based-socket-only\",children:[(0,n.jsx)(e.a,{href:\"#2-2-listen-connection-based-socket-only\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2-2. Listen (Connection-based socket only)\"]}),(0,n.jsxs)(e.p,{children:[\"\\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD558\\uACE0 \\uC8FC\\uC18C\\uB97C \\uD560\\uB2F9 \\uBC1B\\uC558\\uB2E4\\uBA74, \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC758 \\uC811\\uC18D \\uC694\\uCCAD\\uC744 \\uBC1B\\uC744 \\uC900\\uBE44\\uB97C \\uD574\\uC57C\\uD55C\\uB2E4. \",(0,n.jsx)(e.code,{children:\"listen()\"}),\" \\uD568\\uC218\\uB294 \\uC804\\uB2EC\\uBC1B\\uC740 \\uC18C\\uCF13\\uC744 \",(0,n.jsx)(e.strong,{children:\"\\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uB300\\uAE30\\uD558\\uB294 \\uC0C1\\uD0DC\"}),'\\uB85C \\uBCC0\\uACBD\\uD55C\\uB2E4. \\uB2E8, \\uC774\\uB294 \"\\uC5F0\\uACB0 \\uC694\\uCCAD\"\\uC774\\uBBC0\\uB85C, ',(0,n.jsxs)(e.strong,{children:[\"\\uC18C\\uCF13\\uC758 \\uD0C0\\uC785\\uC774 \",(0,n.jsx)(e.code,{children:\"SOCK_STREAM\"}),\" \\uB610\\uB294 \",(0,n.jsx)(e.code,{children:\"SOCK_SEQPACKET\"}),\"\\uC73C\\uB85C \\uC120\\uC5B8\\uB41C \\uACBD\\uC6B0\\uC5D0\\uB9CC \\uC0AC\\uC6A9\\uC774 \\uAC00\\uB2A5\"]}),\"\\uD558\\uB2E4. \\uD568\\uC218\\uC758 \\uC6D0\\uD615\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"Linux : \",(0,n.jsx)(e.code,{children:\"int listen(int sockfd, int backlog)\"})]}),(0,n.jsxs)(e.li,{children:[\"Windows : \",(0,n.jsx)(e.code,{children:\"int listen(SOCKET s, int backlog)\"})]})]}),(0,n.jsxs)(e.p,{children:[\"\\uBAA8\\uB450 \\uC18C\\uCF13 descriptor\\uB97C \\uC785\\uB825\\uBC1B\\uC73C\\uBA70, backlog\\uB77C\\uB294 \\uAC12\\uC744 \\uC778\\uC790\\uB85C \\uBC1B\\uB294\\uB2E4. \\uC774 \\uB54C \\uC0AC\\uC6A9\\uB418\\uB294 \\uC18C\\uCF13\\uC740 \",(0,n.jsx)(e.code,{children:\"bind()\"}),\"\\uB97C \\uD1B5\\uD574 \\uC8FC\\uC18C\\uB97C \\uD560\\uB2F9\\uBC1B\\uC740 \\uC0C1\\uD0DC\\uC5EC\\uC57C \\uD55C\\uB2E4.\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"backlog\"}),\"\\uB780 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uB300\\uAE30\\uD558\\uAE30 \\uC704\\uD55C Queue\\uC758 \\uCD5C\\uB300 \\uAE38\\uC774\\uB97C \\uC9C0\\uC815\\uD574\\uC8FC\\uAE30 \\uC704\\uD55C \\uAC12\\uC774\\uB2E4. \\uC11C\\uBC84\\uB294 \",(0,n.jsx)(e.code,{children:\"listen()\"}),\" \\uD568\\uC218\\uB97C \\uD638\\uCD9C\\uD55C \\uC21C\\uAC04\\uBD80\\uD130 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC758 \\uC5F0\\uACB0 \\uC694\\uCCAD(\",(0,n.jsx)(e.code,{children:\"connect()\"}),\")\\uC744 \\uBC1B\\uC744 \\uC218 \\uC788\\uB294\\uB370, \\uC774 \\uB54C \\uC218\\uB9CE\\uC740 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC758 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC774 \\uB4E4\\uC5B4\\uC624\\uAC8C \\uB418\\uBA74 \\uAC01\\uAC01\\uC758 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 Queue\\uC5D0 \\uC800\\uC7A5\\uD55C\\uB2E4. \\uC774\\uD6C4 \\uC11C\\uBC84\\uC5D0\\uC11C \",(0,n.jsx)(e.code,{children:\"accept()\"}),\" \\uD568\\uC218 \\uD638\\uCD9C\\uC744 \\uD1B5\\uD574 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC640 \\uC5F0\\uACB0\\uC744 \\uD558\\uAC8C \\uB418\\uB294\\uB370, \\uC774 \\uB54C Queue\\uC5D0\\uC11C \\uAC00\\uC7A5 \\uC55E\\uC5D0 \\uC788\\uB294 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uAEBC\\uB0B4 \\uC5F0\\uACB0\\uC744 \\uC218\\uD589\\uD55C\\uB2E4.\"]}),(0,n.jsxs)(e.p,{children:[\"\\uC989, \",(0,n.jsx)(e.code,{children:\"backlog\"}),\"\\uB780 \\uC11C\\uBC84\\uC5D0\\uC11C \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC758 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uB2F4\\uC544\\uB450\\uB294 Queue\\uC758 \\uCD5C\\uB300 \\uC0AC\\uC774\\uC988\\uB97C \\uB098\\uD0C0\\uB0B8\\uB2E4. \\uB9CC\\uC57D Queue\\uAC00 \\uAC00\\uB4DD \\uCC28\\uC788\\uB294 \\uC0C1\\uD0DC\\uC5D0\\uC11C \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uAC00 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uBCF4\\uB0B4\\uAC8C \\uB418\\uBA74 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB294 \\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD558\\uAC8C \\uB418\\uBA70, \\uD574\\uB2F9 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC740 \\uBB34\\uC2DC\\uB41C\\uB2E4. \",(0,n.jsx)(e.code,{children:\"listen()\"}),\"\\uC744 \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0\\uB294 \",(0,n.jsx)(e.code,{children:\"bind()\"}),\"\\uB97C \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0\\uC640 \\uB3D9\\uC77C\\uD558\\uAC8C \\uCC98\\uB9AC\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.p,{children:[\"\\uC544\\uB798 \\uC608\\uC2DC\\uB97C \\uD1B5\\uD574 \",(0,n.jsx)(e.code,{children:\"listen()\"}),\" \\uD568\\uC218\\uB97C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/socket.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/types.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003carpa/inet.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cnetinet/in.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in\"}),\" serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"s_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"INADDR_ANY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"listen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    WSADATA wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAStartup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"MAKEWORD\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKADDR_IN serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Initialize zero for sin_zero\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_un\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"INADDR_ANY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:'// serv_addr.sin_addr.S_un.S_addr = inet_addr(\"0.0.0.0\");'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKET sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"SOCKADDR \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"listen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"closesocket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSACleanup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"2-3-accept-connection-based-socket-only\",children:[(0,n.jsx)(e.a,{href:\"#2-3-accept-connection-based-socket-only\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"2-3. Accept (Connection-based socket only)\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"accept()\"}),\" \\uD568\\uC218\\uB294 listening \\uC0C1\\uD0DC\\uC778 socket\\uC758 queue\\uC5D0 \\uC788\\uB294 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uD558\\uB098 \\uAEBC\\uB0B4\\uC5B4 \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uC218\\uB77D\\uD55C\\uB2E4. \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC744 \\uC218\\uB77D\\uD560 \\uB54C\\uB294 \",(0,n.jsx)(e.strong,{children:\"\\uC0C8\\uB85C\\uC6B4 \\uC18C\\uCF13\\uC744 \\uB9CC\\uB4E4\\uC5B4\"}),\" \\uD574\\uB2F9 \\uC18C\\uCF13\\uACFC \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB97C \\uC5F0\\uACB0\\uD558\\uACE0, \\uADF8 \\uC18C\\uCF13\\uC758 descriptor\\uB97C \\uBC18\\uD658\\uD55C\\uB2E4. \\uB9CC\\uC57D queue\\uAC00 \\uBE44\\uC5B4\\uC788\\uB2E4\\uBA74, \\uC5F0\\uACB0 \\uC694\\uCCAD\\uC774 \\uC62C \\uB54C \\uAE4C\\uC9C0 \\uD504\\uB85C\\uADF8\\uB7A8\\uC774 \\uB300\\uAE30\\uD558\\uACE0 \\uC788\\uACE0, \\uC774\\uB97C Blocking \\uB418\\uC5C8\\uB2E4\\uACE0 \\uD45C\\uD604\\uD55C\\uB2E4. \\uD568\\uC218\\uC758 \\uC6D0\\uD615\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"Linux : \",(0,n.jsx)(e.code,{children:\"int accpet(int sockfd, struct sockaddr *addr, socklen_t *addrlen)\"})]}),(0,n.jsxs)(e.li,{children:[\"Windows : \",(0,n.jsx)(e.code,{children:\"SOCKET accpet(SOCKET s, sockaddr *addr, int *addrlen)\"})]})]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"\\uCCAB \\uBC88\\uC9F8 \\uC778\\uC790\\uB294 listening \\uC0C1\\uD0DC\\uC758 socket descriptor\\uC774\\uB2E4.\"}),(0,n.jsx)(e.li,{children:\"\\uB450 \\uBC88\\uC9F8 \\uC778\\uC790\\uB294 connect\\uB41C \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC758 \\uC8FC\\uC18C \\uC815\\uBCF4\\uB97C \\uB2F4\\uAE30 \\uC704\\uD55C sockaddr \\uAD6C\\uC870\\uCCB4\\uC758 \\uC8FC\\uC18C\\uAC12\\uC774\\uB2E4.\"}),(0,n.jsx)(e.li,{children:\"\\uC138 \\uBC88\\uC9F8 \\uC778\\uC790\\uB294 \\uB450 \\uBC88\\uC9F8 \\uC778\\uC790\\uB85C \\uC804\\uB2EC\\uB41C addr\\uC758 \\uC0AC\\uC774\\uC988\\uB97C \\uB2F4\\uACE0\\uC788\\uB294 \\uAC12\\uC758 \\uC8FC\\uC18C\\uAC12\\uC744 \\uB123\\uC5B4\\uC8FC\\uC5B4\\uC57C \\uD558\\uBA70, \\uD568\\uC218\\uAC00 \\uB9AC\\uD134\\uB41C \\uC774\\uD6C4\\uC5D0\\uB294 \\uC2E4\\uC81C addr\\uC758 \\uAE38\\uC774\\uB85C \\uBCC0\\uD658\\uB41C\\uB2E4.\"})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"accept()\"}),\"\\uAC00 \\uBC18\\uD658\\uB41C \\uC774\\uD6C4\\uC5D0\\uB294 \\uC2E4\\uC81C client\\uC640 \\uC5F0\\uACB0\\uB41C socket descriptor\\uAC00 \\uBC18\\uD658\\uB418\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC640 \\uD574\\uB2F9 \\uC18C\\uCF13\\uC744 \\uD1B5\\uD574 \\uC815\\uBCF4\\uB97C \\uC8FC\\uACE0\\uBC1B\\uC744 \\uC218 \\uC788\\uB2E4. \",(0,n.jsx)(e.code,{children:\"accept()\"}),\"\\uAC00 \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0\\uC5D0\\uB294 \",(0,n.jsx)(e.code,{children:\"bind()\"}),\"\\uAC00 \\uC2E4\\uD328\\uD55C \\uACBD\\uC6B0\\uC640 \\uB3D9\\uC77C\\uD558\\uAC8C \\uCC98\\uB9AC\\uD560 \\uC218 \\uC788\\uB2E4. \\uC544\\uB798 \\uC608\\uC2DC\\uB97C \\uD1B5\\uD574 \",(0,n.jsx)(e.code,{children:\"accept()\"}),\" \\uD568\\uC218\\uB97C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/socket.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/types.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003carpa/inet.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cnetinet/in.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in\"}),\" serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"s_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"INADDR_ANY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"listen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in\"}),\" client_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" client_addr_size \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"client_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" client_sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"accept\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"client_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"client_addr_size\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Work with client_sock\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"client_sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    WSADATA wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAStartup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"MAKEWORD\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKADDR_IN serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Initialize zero for sin_zero\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_un\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htonl\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"INADDR_ANY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:'// serv_addr.sin_addr.S_un.S_addr = inet_addr(\"0.0.0.0\");'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKET sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"SOCKADDR \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"listen\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        SOCKADDR_IN client_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" client_addr_size \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"client_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        SOCKET client_sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"accept\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"SOCKADDR \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"client_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"client_addr_size\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Work with client_sock\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"closesocket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"client_sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"closesocket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSACleanup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h1,{id:\"3-\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\",children:[(0,n.jsx)(e.a,{href:\"#3-\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"3. \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\"]}),(0,n.jsxs)(e.p,{children:[\"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uAC00 \\uC11C\\uBC84\\uC5D0 \\uC811\\uC18D\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uC11C\\uBC84\\uC640 \\uB9C8\\uCC2C\\uAC00\\uC9C0\\uB85C \\uC18C\\uCF13\\uC744 \\uC0DD\\uC131\\uD574\\uC57C \\uD55C\\uB2E4. \\uC774\\uD6C4 Connection-based \\uD1B5\\uC2E0\\uC744 \\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \",(0,n.jsx)(e.code,{children:\"connect()\"}),\" \\uACFC\\uC815\\uC744 \\uAC70\\uCCD0\\uC57C \\uD55C\\uB2E4.\"]}),(0,n.jsxs)(e.h2,{id:\"3-1-connect-connection-based-socket-only\",children:[(0,n.jsx)(e.a,{href:\"#3-1-connect-connection-based-socket-only\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"3-1. Connect (Connection-based socket only)\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"connect()\"}),\" \\uD568\\uC218\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uAD6C\\uC131\\uB418\\uC5B4 \\uC788\\uB2E4.\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"Linux : \",(0,n.jsx)(e.code,{children:\"int connect(int sockfd, const struct sockaddr *addr, socklen_t addrlen)\"})]}),(0,n.jsxs)(e.li,{children:[\"Windows : \",(0,n.jsx)(e.code,{children:\"int connect(SOCKET s, const sockaddr *name, int namelen)\"})]})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"bind()\"}),\" \\uD568\\uC218\\uC640 \\uB9C8\\uCC2C\\uAC00\\uC9C0\\uB85C \\uC5F0\\uACB0\\uD558\\uACE0\\uC790 \\uD558\\uB294 socket descriptor\\uC640 \\uC8FC\\uC18C \\uC815\\uBCF4\\uC778 \",(0,n.jsx)(e.code,{children:\"sockaddr\"}),\" \\uAD6C\\uC870\\uCCB4, \\uADF8\\uB9AC\\uACE0 \\uAD6C\\uC870\\uCCB4\\uC758 \\uC0AC\\uC774\\uC988\\uB97C \\uBC1B\\uB294\\uB2E4. \\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD560 \\uACBD\\uC6B0\\uC5D0\\uB3C4 \",(0,n.jsx)(e.code,{children:\"bind()\"}),\"\\uC758 \\uC5D0\\uB7EC \\uCC98\\uB9AC\\uC640 \\uB3D9\\uC77C\\uD558\\uAC8C \\uCC98\\uB9AC\\uD55C\\uB2E4. \\uC544\\uB798 \\uC608\\uC2DC\\uB97C \\uD1B5\\uD574 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC758 \\uC5F0\\uACB0 \\uACFC\\uC815\\uC744 \\uC0B4\\uD3B4\\uBCFC \\uC218 \\uC788\\uB2E4.\"]}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Linux\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/socket.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003csys/types.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003carpa/inet.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cnetinet/in.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr_in\"}),\" serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"s_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"inet_addr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"192.168.0.2\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"connect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"sockaddr\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"perror\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"connect() error\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Work with server\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Windows\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cWinSock2.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstring.h\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token macro property\",children:[(0,n.jsx)(e.span,{className:\"token directive-hash\",children:\"#\"}),(0,n.jsx)(e.span,{className:\"token keyword directive\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"\u003cstdio.h\u003e\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    WSADATA wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAStartup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"MAKEWORD\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"wsaData\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKADDR_IN serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"memset\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Initialize zero for sin_zero\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_family \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_port \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"htons\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"9100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sin_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_un\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"S_addr \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"inet_addr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"192.168.0.2\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    SOCKET sock \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"AF_INET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" SOCK_STREAM\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"connect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"SOCKADDR \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u0026\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"sizeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"serv_addr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"==\"}),\" INVALID_SOCKET\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fprintf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"stderr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"connect() error: %d\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSAGetLastError\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSACleanup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Work with server\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"closesocket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sock\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"WSACleanup\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})})]})}}var f=g;return w;})();\n;return Component;","toc":[{"value":"1. 소켓이란?","url":"#1-소켓이란","depth":1},{"value":"1. Domain / AF (Address Family)","url":"#1-domain--af-address-family","depth":3},{"value":"2. Type","url":"#2-type","depth":3},{"value":"3. Protocol","url":"#3-protocol","depth":3},{"value":"Appendix. 소켓 생성 실패시","url":"#appendix-소켓-생성-실패시","depth":3},{"value":"Linux","url":"#linux","depth":4},{"value":"Windows","url":"#windows","depth":4},{"value":"2. 서버","url":"#2-서버","depth":1},{"value":"2-1. Bind","url":"#2-1-bind","depth":2},{"value":"Appendix. Bind 실패시","url":"#appendix-bind-실패시","depth":3},{"value":"2-2. Listen (Connection-based socket only)","url":"#2-2-listen-connection-based-socket-only","depth":2},{"value":"2-3. Accept (Connection-based socket only)","url":"#2-3-accept-connection-based-socket-only","depth":2},{"value":"3. 클라이언트","url":"#3-클라이언트","depth":1},{"value":"3-1. Connect (Connection-based socket only)","url":"#3-1-connect-connection-based-socket-only","depth":2}],"frontMatter":{"readingTime":{"text":"21 min read","minutes":20.145,"time":1208700,"words":4029},"slug":"network/240519 소켓과 서버-클라이언트 연결","fileName":"network/240519 소켓과 서버-클라이언트 연결.mdx","title":"소켓과 서버-클라이언트 연결","date":"2024-05-19T00:00:00.000Z","tags":["network","socket"],"draft":false,"summary":"네트워크 프로그래밍에서의 소켓과 서버-클라이언트를 연결하기 위한 내용"}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.93,"time":115800,"words":386},"slug":["default"],"fileName":"default.mdx","name":"Minseok Song","avatar":"/static/images/avatar.jpg","occupation":"M.S. degree in Computer Science","email":"Minseok.H.Song@gmail.com","github":"https://github.com/MS-Harine","date":null}],"prev":null,"next":null},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["network","240519 소켓과 서버-클라이언트 연결"]},"buildId":"X1svkmAzoXyPJ4TDo0lmL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>